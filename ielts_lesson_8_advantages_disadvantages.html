<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 8: Advantages & Disadvantages Essays - IELTS Writing Task 2</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .nav-button {
            background: rgba(255,255,255,0.2);
            color: white;
            padding: 12px 25px;
            border-radius: 10px;
            text-decoration: none;
            transition: all 0.3s;
            border: 2px solid rgba(255,255,255,0.3);
        }

        .nav-button:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 50px;
        }

        .section h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .section h3 {
            color: #764ba2;
            font-size: 1.5em;
            margin: 25px 0 15px 0;
        }

        .info-box {
            background: #e8eaf6;
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #667eea;
            margin: 25px 0;
            line-height: 1.8;
        }

        .info-box strong {
            color: #667eea;
        }

        .example-box {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #28a745;
        }

        .warning-box {
            background: #fff3cd;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #ffc107;
        }

        .error-box {
            background: #f8d7da;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #dc3545;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab {
            padding: 15px 25px;
            background: #f0f0f0;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
        }

        .tab:hover {
            background: #e0e0e0;
        }

        .tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Interactive Elements */
        .interactive-area {
            background: #f9f9f9;
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            border: 3px solid #ddd;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .card.advantage {
            border-color: #28a745;
        }

        .card.disadvantage {
            border-color: #dc3545;
        }

        .card.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #764ba2;
        }

        .draggable-items {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
            min-height: 80px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            border: 2px dashed #ccc;
        }

        .draggable {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            cursor: move;
            user-select: none;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transition: transform 0.2s;
        }

        .draggable:hover {
            transform: scale(1.05);
        }

        .draggable.dragging {
            opacity: 0.5;
        }

        .drop-zone {
            min-height: 100px;
            padding: 20px;
            margin: 15px 0;
            background: white;
            border: 3px dashed #667eea;
            border-radius: 15px;
            transition: all 0.3s;
        }

        .drop-zone.drag-over {
            background: #e8eaf6;
            border-color: #764ba2;
        }

        .drop-zone h4 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .drop-zone-content {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            min-height: 60px;
        }

        .button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 35px;
            border-radius: 10px;
            font-size: 1.1em;
            cursor: pointer;
            margin-top: 20px;
            transition: transform 0.2s;
        }

        .button:hover {
            transform: scale(1.05);
        }

        .button.secondary {
            background: #6c757d;
            margin-left: 10px;
        }

        .feedback {
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            font-weight: bold;
            display: none;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 2px solid #28a745;
            display: block;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #dc3545;
            display: block;
        }

        .phrase-builder {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border: 2px solid #667eea;
        }

        .phrase-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .phrase-option {
            padding: 15px;
            background: #f0f0f0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .phrase-option:hover {
            background: #e0e0e0;
        }

        .phrase-option.selected {
            background: #667eea;
            color: white;
        }

        .phrase-output {
            background: #e8eaf6;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            min-height: 80px;
            font-size: 1.1em;
            line-height: 1.8;
        }

        .balance-meter {
            position: relative;
            height: 40px;
            background: linear-gradient(to right, #28a745 0%, #ffc107 50%, #dc3545 100%);
            border-radius: 20px;
            margin: 30px 0;
            overflow: hidden;
        }

        .balance-indicator {
            position: absolute;
            width: 4px;
            height: 100%;
            background: white;
            left: 50%;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
        }

        .balance-pointer {
            position: absolute;
            width: 20px;
            height: 20px;
            background: white;
            border: 3px solid #333;
            border-radius: 50%;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            transition: left 0.5s;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .balance-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-weight: bold;
        }

        .model-essay {
            background: #f9f9f9;
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
            line-height: 1.8;
        }

        .model-essay p {
            margin: 15px 0;
        }

        .clickable-sentence {
            cursor: pointer;
            padding: 10px;
            border-radius: 5px;
            transition: all 0.3s;
            position: relative;
        }

        .clickable-sentence:hover {
            background: #fff3cd;
        }

        .clickable-sentence.revealed {
            background: #e8eaf6;
        }

        .sentence-label {
            display: none;
            position: absolute;
            top: -10px;
            right: 10px;
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
        }

        .clickable-sentence.revealed .sentence-label {
            display: block;
        }

        textarea {
            width: 100%;
            min-height: 150px;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1em;
            font-family: inherit;
            resize: vertical;
            margin: 15px 0;
        }

        .word-count {
            text-align: right;
            color: #666;
            margin-top: 5px;
        }

        ul, ol {
            margin-left: 25px;
            line-height: 1.8;
        }

        li {
            margin: 10px 0;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            .content {
                padding: 20px;
            }
            .tabs {
                flex-direction: column;
            }
        }

        .progress-indicator {
            background: #f0f0f0;
            padding: 20px;
            border-radius: 10px;
            margin: 30px 0;
            text-align: center;
        }

        .progress-text {
            font-size: 1.2em;
            color: #667eea;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìä Lesson 8: Advantages & Disadvantages Essays</h1>
            <p>Master balanced evaluation and "outweigh" statements for IELTS success</p>
            
            <div class="nav-buttons">
                <a href="ielts_course_dashboard.html" class="nav-button">‚Üê Back to Dashboard</a>
                <a href="ielts_lesson_7_discussion_essays.html" class="nav-button">‚Üê Previous Lesson</a>
                <a href="ielts_lesson_9_problem_solution.html" class="nav-button">Next Lesson ‚Üí</a>
            </div>
        </div>

        <div class="content">
            <!-- Navigation Tabs -->
            <div class="tabs">
                <button class="tab active" onclick="showTab('intro')">üìö Introduction</button>
                <button class="tab" onclick="showTab('identify')">üîç Identify Questions</button>
                <button class="tab" onclick="showTab('structures')">üèóÔ∏è Essay Structures</button>
                <button class="tab" onclick="showTab('language')">üí¨ Key Language</button>
                <button class="tab" onclick="showTab('practice')">‚úçÔ∏è Practice Activities</button>
                <button class="tab" onclick="showTab('model')">‚≠ê Model Essay</button>
                <button class="tab" onclick="showTab('writing')">üìù Your Essay</button>
            </div>

            <!-- Tab 1: Introduction & Warm-up -->
            <div id="intro" class="tab-content active">
                <div class="section">
                    <h2>üéØ Stage 1: Warm-up & Context Setting</h2>
                    
                    <div class="info-box">
                        <h3>üí≠ Think About This:</h3>
                        <p>Everything in life has advantages and disadvantages. Think about social media, working from home, or online shopping. Can you list 2 advantages and 2 disadvantages for each?</p>
                    </div>

                    <div class="interactive-area">
                        <h3>Quick Brainstorm: Online Shopping</h3>
                        <p style="margin-bottom: 20px;">Click on each category to see if you can think of points before revealing common ideas:</p>
                        
                        <div class="card-grid">
                            <div class="card advantage" onclick="revealIdea(this, 'Convenient - shop from home anytime')">
                                <h4>‚úÖ Advantage 1</h4>
                                <p class="hidden-idea" style="display:none; margin-top:15px; color:#28a745;"></p>
                            </div>
                            <div class="card advantage" onclick="revealIdea(this, 'Compare prices easily across different stores')">
                                <h4>‚úÖ Advantage 2</h4>
                                <p class="hidden-idea" style="display:none; margin-top:15px; color:#28a745;"></p>
                            </div>
                            <div class="card disadvantage" onclick="revealIdea(this, 'Cannot see or try products before buying')">
                                <h4>‚ùå Disadvantage 1</h4>
                                <p class="hidden-idea" style="display:none; margin-top:15px; color:#dc3545;"></p>
                            </div>
                            <div class="card disadvantage" onclick="revealIdea(this, 'Shipping delays and delivery costs')">
                                <h4>‚ùå Disadvantage 2</h4>
                                <p class="hidden-idea" style="display:none; margin-top:15px; color:#dc3545;"></p>
                            </div>
                        </div>
                    </div>

                    <h2 style="margin-top: 50px;">üìã What You'll Learn Today</h2>
                    <div class="info-box">
                        <ul>
                            <li><strong>Recognize</strong> advantages/disadvantages questions instantly</li>
                            <li><strong>Choose</strong> the right essay structure for different question types</li>
                            <li><strong>Write</strong> balanced evaluations with clear reasoning</li>
                            <li><strong>Use</strong> "outweigh" language effectively</li>
                            <li><strong>Avoid</strong> common mistakes that cost bands</li>
                        </ul>
                    </div>

                    <div class="progress-indicator">
                        <p class="progress-text">‚è±Ô∏è Lesson Duration: 90 minutes | üìä Your Progress: Stage 1 of 8</p>
                    </div>
                </div>
            </div>

            <!-- Tab 2: Identify Questions -->
            <div id="identify" class="tab-content">
                <div class="section">
                    <h2>üîç Stage 2: Identifying Advantages/Disadvantages Questions</h2>
                    
                    <h3>Common Question Formats</h3>
                    <div class="example-box">
                        <strong>Type 1: Simple Discussion</strong>
                        <p>"What are the advantages and disadvantages of [topic]?"</p>
                        <p style="margin-top:10px; font-style:italic;">‚Üí Discuss both sides, conclusion is your choice</p>
                    </div>

                    <div class="example-box">
                        <strong>Type 2: Outweigh Question</strong>
                        <p>"Do the advantages of [topic] outweigh the disadvantages?"</p>
                        <p style="margin-top:10px; font-style:italic;">‚Üí Take a clear position (yes or no), then prove it</p>
                    </div>

                    <div class="example-box">
                        <strong>Type 3: Your Opinion</strong>
                        <p>"Discuss the advantages and disadvantages and give your opinion."</p>
                        <p style="margin-top:10px; font-style:italic;">‚Üí Balanced discussion + clear opinion in conclusion</p>
                    </div>

                    <div class="interactive-area">
                        <h3>üéÆ Practice: Identify the Question Type</h3>
                        <p>Read each question and click on the correct type:</p>
                        
                        <div style="background:white; padding:20px; border-radius:10px; margin:20px 0;">
                            <p style="font-size:1.1em; margin-bottom:15px;"><strong>Question 1:</strong> "These days more and more people are working from home. Do the advantages of this trend outweigh the disadvantages?"</p>
                            <div style="display:flex; gap:10px; flex-wrap:wrap;">
                                <button class="phrase-option" onclick="checkQuestionType(1, 'outweigh', this)">Outweigh Question</button>
                                <button class="phrase-option" onclick="checkQuestionType(1, 'simple', this)">Simple Discussion</button>
                                <button class="phrase-option" onclick="checkQuestionType(1, 'opinion', this)">Your Opinion</button>
                            </div>
                            <div id="q1-feedback" class="feedback"></div>
                        </div>

                        <div style="background:white; padding:20px; border-radius:10px; margin:20px 0;">
                            <p style="font-size:1.1em; margin-bottom:15px;"><strong>Question 2:</strong> "What are the advantages and disadvantages of studying abroad for university education?"</p>
                            <div style="display:flex; gap:10px; flex-wrap:wrap;">
                                <button class="phrase-option" onclick="checkQuestionType(2, 'simple', this)">Simple Discussion</button>
                                <button class="phrase-option" onclick="checkQuestionType(2, 'outweigh', this)">Outweigh Question</button>
                                <button class="phrase-option" onclick="checkQuestionType(2, 'opinion', this)">Your Opinion</button>
                            </div>
                            <div id="q2-feedback" class="feedback"></div>
                        </div>

                        <div style="background:white; padding:20px; border-radius:10px; margin:20px 0;">
                            <p style="font-size:1.1em; margin-bottom:15px;"><strong>Question 3:</strong> "Discuss the advantages and disadvantages of social media and give your own opinion."</p>
                            <div style="display:flex; gap:10px; flex-wrap:wrap;">
                                <button class="phrase-option" onclick="checkQuestionType(3, 'opinion', this)">Your Opinion</button>
                                <button class="phrase-option" onclick="checkQuestionType(3, 'simple', this)">Simple Discussion</button>
                                <button class="phrase-option" onclick="checkQuestionType(3, 'outweigh', this)">Outweigh Question</button>
                            </div>
                            <div id="q3-feedback" class="feedback"></div>
                        </div>
                    </div>

                    <div class="warning-box">
                        <h3>‚ö†Ô∏è Critical Distinction</h3>
                        <p><strong>If the question asks "Do advantages outweigh disadvantages?"</strong> you MUST take a clear position (YES or NO) and defend it throughout your essay.</p>
                        <p style="margin-top:10px;"><strong>If the question just asks "What are the advantages and disadvantages?"</strong> you can present both sides equally and save your opinion for the conclusion (or not give one at all).</p>
                    </div>

                    <div class="progress-indicator">
                        <p class="progress-text">üìä Your Progress: Stage 2 of 8</p>
                    </div>
                </div>
            </div>

            <!-- Tab 3: Essay Structures -->
            <div id="structures" class="tab-content">
                <div class="section">
                    <h2>üèóÔ∏è Stage 3: Essay Structures</h2>
                    
                    <h3>Structure 1: Simple Discussion (No Opinion Required)</h3>
                    <div class="info-box">
                        <strong>Use when:</strong> Question asks "What are the advantages and disadvantages?"
                        <br><br>
                        <strong>Structure:</strong>
                        <ul style="margin-top:10px;">
                            <li><strong>Introduction:</strong> Paraphrase + "This essay will discuss both the benefits and drawbacks"</li>
                            <li><strong>Body 1:</strong> Discuss 2-3 advantages with examples</li>
                            <li><strong>Body 2:</strong> Discuss 2-3 disadvantages with examples</li>
                            <li><strong>Conclusion:</strong> Summarize both sides (opinion optional)</li>
                        </ul>
                    </div>

                    <h3>Structure 2: Outweigh Question (Position Required)</h3>
                    <div class="info-box">
                        <strong>Use when:</strong> Question asks "Do advantages outweigh disadvantages?"
                        <br><br>
                        <strong>Structure (Advantages Outweigh):</strong>
                        <ul style="margin-top:10px;">
                            <li><strong>Introduction:</strong> Paraphrase + "In my opinion, the advantages far outweigh the disadvantages"</li>
                            <li><strong>Body 1:</strong> Acknowledge disadvantages (but show they're minor)</li>
                            <li><strong>Body 2:</strong> Present stronger advantages (prove your position)</li>
                            <li><strong>Conclusion:</strong> Restate that advantages outweigh disadvantages</li>
                        </ul>
                    </div>

                    <div class="interactive-area">
                        <h3>üéØ Interactive: Build Your Essay Structure</h3>
                        <p>Drag the essay parts into the correct order for an OUTWEIGH question where you believe advantages outweigh disadvantages:</p>
                        
                        <div class="draggable-items" id="structure-items">
                            <div class="draggable" draggable="true" data-order="4">Conclusion: Restate that advantages clearly outweigh the disadvantages</div>
                            <div class="draggable" draggable="true" data-order="2">Body 1: Acknowledge minor disadvantages (spend less time here)</div>
                            <div class="draggable" draggable="true" data-order="3">Body 2: Explain major advantages (spend more time here)</div>
                            <div class="draggable" draggable="true" data-order="1">Introduction: State your position - advantages outweigh disadvantages</div>
                        </div>

                        <div style="margin-top:30px;">
                            <div class="drop-zone" data-position="1">
                                <h4>First Part:</h4>
                                <div class="drop-zone-content"></div>
                            </div>
                            <div class="drop-zone" data-position="2">
                                <h4>Second Part:</h4>
                                <div class="drop-zone-content"></div>
                            </div>
                            <div class="drop-zone" data-position="3">
                                <h4>Third Part:</h4>
                                <div class="drop-zone-content"></div>
                            </div>
                            <div class="drop-zone" data-position="4">
                                <h4>Fourth Part:</h4>
                                <div class="drop-zone-content"></div>
                            </div>
                        </div>

                        <button class="button" onclick="checkStructure()">Check My Answer</button>
                        <button class="button secondary" onclick="resetStructure()">Reset</button>
                        <div id="structure-feedback" class="feedback"></div>
                    </div>

                    <div class="warning-box">
                        <h3>üí° Pro Tip: The "Concession" Strategy</h3>
                        <p>When you believe advantages outweigh disadvantages, use Body 1 to <strong>briefly acknowledge</strong> disadvantages (called a "concession"), then use Body 2 to present <strong>stronger, more developed</strong> advantages.</p>
                        <p style="margin-top:10px;">This shows balanced thinking while making your position clear!</p>
                    </div>

                    <h3>Balance Visualizer</h3>
                    <div class="interactive-area">
                        <p>In an "outweigh" essay, your body paragraphs should NOT be equal length. Use the sliders to see the recommended balance:</p>
                        
                        <div style="margin:30px 0;">
                            <label style="display:block; margin-bottom:10px;"><strong>Body 1 (Disadvantages):</strong> <span id="body1-words">60</span> words</label>
                            <input type="range" min="40" max="100" value="60" style="width:100%;" oninput="updateBalance()" id="body1-slider">
                        </div>
                        
                        <div style="margin:30px 0;">
                            <label style="display:block; margin-bottom:10px;"><strong>Body 2 (Advantages):</strong> <span id="body2-words">100</span> words</label>
                            <input type="range" min="60" max="140" value="100" style="width:100%;" oninput="updateBalance()" id="body2-slider">
                        </div>

                        <div class="balance-meter">
                            <div class="balance-indicator"></div>
                            <div class="balance-pointer" id="balance-pointer"></div>
                        </div>
                        <div class="balance-labels">
                            <span style="color:#dc3545;">Disadvantages Win</span>
                            <span style="color:#ffc107;">Balanced</span>
                            <span style="color:#28a745;">Advantages Win ‚úì</span>
                        </div>
                        
                        <div id="balance-feedback" style="margin-top:20px; padding:15px; background:#e8eaf6; border-radius:10px; text-align:center;"></div>
                    </div>

                    <div class="progress-indicator">
                        <p class="progress-text">üìä Your Progress: Stage 3 of 8</p>
                    </div>
                </div>
            </div>

            <!-- Tab 4: Key Language -->
            <div id="language" class="tab-content">
                <div class="section">
                    <h2>üí¨ Stage 4 & 5: Key Language & Vocabulary</h2>
                    
                    <h3>Essential Phrases for Advantages/Disadvantages Essays</h3>
                    
                    <div class="phrase-builder">
                        <h4>Category 1: Introducing Advantages</h4>
                        <div class="example-box">
                            <ul>
                                <li><strong>One major advantage is that...</strong></li>
                                <li><strong>A key benefit of [topic] is...</strong></li>
                                <li><strong>The main strength of this approach is...</strong></li>
                                <li><strong>This has the advantage of...</strong></li>
                                <li><strong>From a positive perspective,...</strong></li>
                            </ul>
                        </div>
                    </div>

                    <div class="phrase-builder">
                        <h4>Category 2: Introducing Disadvantages</h4>
                        <div class="example-box">
                            <ul>
                                <li><strong>One significant drawback is that...</strong></li>
                                <li><strong>A major disadvantage of [topic] is...</strong></li>
                                <li><strong>The main weakness of this approach is...</strong></li>
                                <li><strong>On the downside,...</strong></li>
                                <li><strong>From a negative perspective,...</strong></li>
                            </ul>
                        </div>
                    </div>

                    <div class="phrase-builder">
                        <h4>Category 3: "Outweigh" Language</h4>
                        <div class="example-box">
                            <ul>
                                <li><strong>The advantages far outweigh the disadvantages</strong></li>
                                <li><strong>The benefits clearly outweigh the drawbacks</strong></li>
                                <li><strong>The positives outweigh the negatives</strong></li>
                                <li><strong>Despite these drawbacks, the advantages are more significant</strong></li>
                                <li><strong>While there are some disadvantages, these pale in comparison to the benefits</strong></li>
                                <li><strong>The disadvantages are outweighed by the considerable advantages</strong></li>
                            </ul>
                        </div>
                    </div>

                    <div class="phrase-builder">
                        <h4>Category 4: Concession & Counter-argument</h4>
                        <div class="warning-box">
                            <p><strong>Concession</strong> = Acknowledging the opposite view before presenting your stronger argument</p>
                        </div>
                        <div class="example-box">
                            <ul>
                                <li><strong>Admittedly, there are some disadvantages, such as...</strong></li>
                                <li><strong>While it is true that [disadvantage]...</strong></li>
                                <li><strong>Although there are some drawbacks...</strong></li>
                                <li><strong>Despite these concerns...</strong></li>
                                <li><strong>Granted, [disadvantage]. However, [stronger advantage]</strong></li>
                            </ul>
                        </div>
                    </div>

                    <div class="interactive-area">
                        <h3>üéØ Build Your Own Outweigh Statement</h3>
                        <p>Click on options to build a complete "outweigh" statement:</p>
                        
                        <h4 style="margin-top:20px;">Step 1: Choose Opening</h4>
                        <div class="phrase-options">
                            <div class="phrase-option" onclick="selectPhrase('opening', 'In my opinion', this)">In my opinion</div>
                            <div class="phrase-option" onclick="selectPhrase('opening', 'I firmly believe that', this)">I firmly believe that</div>
                            <div class="phrase-option" onclick="selectPhrase('opening', 'From my perspective', this)">From my perspective</div>
                        </div>

                        <h4 style="margin-top:20px;">Step 2: Choose Main Statement</h4>
                        <div class="phrase-options">
                            <div class="phrase-option" onclick="selectPhrase('main', 'the advantages far outweigh the disadvantages', this)">the advantages far outweigh the disadvantages</div>
                            <div class="phrase-option" onclick="selectPhrase('main', 'the benefits clearly outweigh the drawbacks', this)">the benefits clearly outweigh the drawbacks</div>
                            <div class="phrase-option" onclick="selectPhrase('main', 'the positives significantly outweigh the negatives', this)">the positives significantly outweigh the negatives</div>
                        </div>

                        <h4 style="margin-top:20px;">Step 3: Add Reasoning (Optional)</h4>
                        <div class="phrase-options">
                            <div class="phrase-option" onclick="selectPhrase('reason', 'because the long-term benefits are substantial', this)">because the long-term benefits are substantial</div>
                            <div class="phrase-option" onclick="selectPhrase('reason', 'since the positive impacts are more significant', this)">since the positive impacts are more significant</div>
                            <div class="phrase-option" onclick="selectPhrase('reason', 'as the drawbacks are relatively minor', this)">as the drawbacks are relatively minor</div>
                        </div>

                        <div class="phrase-output" id="outweigh-output">
                            <em style="color:#999;">Your statement will appear here...</em>
                        </div>
                    </div>

                    <div class="info-box">
                        <h3>üìù Vocabulary: Synonyms to Avoid Repetition</h3>
                        <div style="display:grid; grid-template-columns:1fr 1fr; gap:20px; margin-top:15px;">
                            <div>
                                <strong style="color:#28a745;">Advantages:</strong>
                                <ul style="margin-top:10px;">
                                    <li>Benefits</li>
                                    <li>Strengths</li>
                                    <li>Positives</li>
                                    <li>Merits</li>
                                    <li>Plus points</li>
                                    <li>Upsides</li>
                                </ul>
                            </div>
                            <div>
                                <strong style="color:#dc3545;">Disadvantages:</strong>
                                <ul style="margin-top:10px;">
                                    <li>Drawbacks</li>
                                    <li>Weaknesses</li>
                                    <li>Negatives</li>
                                    <li>Downsides</li>
                                    <li>Limitations</li>
                                    <li>Shortcomings</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="progress-indicator">
                        <p class="progress-text">üìä Your Progress: Stages 4-5 of 8</p>
                    </div>
                </div>
            </div>

            <!-- Tab 5: Practice Activities -->
            <div id="practice" class="tab-content">
                <div class="section">
                    <h2>‚úçÔ∏è Stage 6: Controlled Practice</h2>
                    
                    <div class="interactive-area">
                        <h3>Exercise 1: Sort Advantages and Disadvantages</h3>
                        <p>Topic: <strong>Living in a Big City</strong></p>
                        <p>Drag each statement to the correct category:</p>
                        
                        <div class="draggable-items" id="sorting-items">
                            <div class="draggable" draggable="true" data-type="advantage">More job opportunities and career options</div>
                            <div class="draggable" draggable="true" data-type="disadvantage">High cost of living and expensive housing</div>
                            <div class="draggable" draggable="true" data-type="advantage">Better access to healthcare and education</div>
                            <div class="draggable" draggable="true" data-type="disadvantage">Traffic congestion and air pollution</div>
                            <div class="draggable" draggable="true" data-type="advantage">Rich cultural experiences and entertainment</div>
                            <div class="draggable" draggable="true" data-type="disadvantage">Less personal space and privacy</div>
                        </div>

                        <div style="display:grid; grid-template-columns:1fr 1fr; gap:20px; margin-top:30px;">
                            <div class="drop-zone" data-category="advantage">
                                <h4 style="color:#28a745;">‚úÖ Advantages</h4>
                                <div class="drop-zone-content"></div>
                            </div>
                            <div class="drop-zone" data-category="disadvantage">
                                <h4 style="color:#dc3545;">‚ùå Disadvantages</h4>
                                <div class="drop-zone-content"></div>
                            </div>
                        </div>

                        <button class="button" onclick="checkSorting()">Check My Sorting</button>
                        <button class="button secondary" onclick="resetSorting()">Reset</button>
                        <div id="sorting-feedback" class="feedback"></div>
                    </div>

                    <div class="interactive-area" style="margin-top:50px;">
                        <h3>Exercise 2: Complete the Sentences</h3>
                        
                        <div style="background:white; padding:25px; border-radius:10px; margin:20px 0;">
                            <p style="margin-bottom:15px;"><strong>1.</strong> __________ some people enjoy the convenience of online shopping, __________ about security risks.</p>
                            <select id="sent1-a" style="padding:8px; margin:0 5px;">
                                <option value="">Choose...</option>
                                <option value="correct">While</option>
                                <option value="wrong">Because</option>
                                <option value="wrong">Therefore</option>
                            </select>
                            others worry
                            <select id="sent1-b" style="padding:8px; margin:0 5px;">
                                <option value="">Choose...</option>
                                <option value="wrong">advantages</option>
                                <option value="correct">disadvantages</option>
                                <option value="wrong">benefits</option>
                            </select>
                        </div>

                        <div style="background:white; padding:25px; border-radius:10px; margin:20px 0;">
                            <p style="margin-bottom:15px;"><strong>2.</strong> One __________ of remote work is the flexibility it offers. __________, employees can struggle with work-life balance.</p>
                            <select id="sent2-a" style="padding:8px; margin:0 5px;">
                                <option value="">Choose...</option>
                                <option value="wrong">drawback</option>
                                <option value="correct">advantage</option>
                                <option value="wrong">negative</option>
                            </select>
                            <br><br>
                            <select id="sent2-b" style="padding:8px; margin:0 5px;">
                                <option value="">Choose...</option>
                                <option value="wrong">Therefore</option>
                                <option value="wrong">Furthermore</option>
                                <option value="correct">However</option>
                            </select>
                        </div>

                        <div style="background:white; padding:25px; border-radius:10px; margin:20px 0;">
                            <p style="margin-bottom:15px;"><strong>3.</strong> __________ there are some concerns about privacy, I believe the advantages of smart home technology __________ the disadvantages.</p>
                            <select id="sent3-a" style="padding:8px; margin:0 5px;">
                                <option value="">Choose...</option>
                                <option value="correct">Although</option>
                                <option value="wrong">Because</option>
                                <option value="wrong">Moreover</option>
                            </select>
                            <br><br>
                            <select id="sent3-b" style="padding:8px; margin:0 5px;">
                                <option value="">Choose...</option>
                                <option value="wrong">are less than</option>
                                <option value="correct">outweigh</option>
                                <option value="wrong">equal to</option>
                            </select>
                        </div>

                        <button class="button" onclick="checkSentences()">Check Answers</button>
                        <div id="sentences-feedback" class="feedback"></div>
                    </div>

                    <div class="progress-indicator">
                        <p class="progress-text">üìä Your Progress: Stage 6 of 8</p>
                    </div>
                </div>
            </div>

            <!-- Tab 6: Model Essay -->
            <div id="model" class="tab-content">
                <div class="section">
                    <h2>‚≠ê Band 8 Model Essay</h2>
                    
                    <div class="info-box">
                        <strong>Question:</strong> "In many countries, people are choosing to have children at a later age. Do the advantages of this trend outweigh the disadvantages?"
                    </div>

                    <div class="model-essay">
                        <h3 style="color:#667eea; margin-bottom:20px;">Model Essay (283 words)</h3>
                        
                        <div class="clickable-sentence" onclick="revealSentenceType(this, 'INTRODUCTION - Paraphrase')">
                            <span class="sentence-label"></span>
                            <p>In recent decades, there has been a notable shift toward delayed parenthood in numerous nations, with couples increasingly opting to start families later in life.</p>
                        </div>

                        <div class="clickable-sentence" onclick="revealSentenceType(this, 'THESIS - Clear position on outweigh question')">
                            <span class="sentence-label"></span>
                            <p>While this trend presents certain challenges, I firmly believe that the advantages significantly outweigh the disadvantages.</p>
                        </div>

                        <h4 style="color:#764ba2; margin:30px 0 15px 0;">Body Paragraph 1</h4>

                        <div class="clickable-sentence" onclick="revealSentenceType(this, 'CONCESSION - Acknowledge disadvantages')">
                            <span class="sentence-label"></span>
                            <p>Admittedly, there are some drawbacks to postponing parenthood. The primary concern is increased health risks for both mothers and babies, as fertility naturally decreases with age and pregnancy complications become more common after 35.</p>
                        </div>

                        <div class="clickable-sentence" onclick="revealSentenceType(this, 'EVIDENCE - Specific example')">
                            <span class="sentence-label"></span>
                            <p>Additionally, older parents may have less energy to keep up with young children's demands and might face a larger generation gap when their children reach adolescence.</p>
                        </div>

                        <div class="clickable-sentence" onclick="revealSentenceType(this, 'TRANSITION - Moving to stronger argument')">
                            <span class="sentence-label"></span>
                            <p>However, these concerns are relatively minor compared to the substantial benefits.</p>
                        </div>

                        <h4 style="color:#764ba2; margin:30px 0 15px 0;">Body Paragraph 2</h4>

                        <div class="clickable-sentence" onclick="revealSentenceType(this, 'TOPIC SENTENCE - First advantage')">
                            <span class="sentence-label"></span>
                            <p>The most significant advantage of delayed parenthood is improved financial stability. Couples who wait typically have established careers and accumulated savings, enabling them to provide better resources for their children's education, healthcare, and overall development.</p>
                        </div>

                        <div class="clickable-sentence" onclick="revealSentenceType(this, 'EVIDENCE - Research support')">
                            <span class="sentence-label"></span>
                            <p>Research consistently shows that children of older parents often perform better academically and have access to more opportunities due to their families' stronger economic position.</p>
                        </div>

                        <div class="clickable-sentence" onclick="revealSentenceType(this, 'TOPIC SENTENCE - Second advantage')">
                            <span class="sentence-label"></span>
                            <p>Furthermore, older parents tend to be more emotionally mature and better equipped to handle the psychological demands of raising children.</p>
                        </div>

                        <div class="clickable-sentence" onclick="revealSentenceType(this, 'EXPLANATION - Develop the point')">
                            <span class="sentence-label"></span>
                            <p>Having had more life experience, they often make more thoughtful parenting decisions and maintain greater patience during challenging situations.</p>
                        </div>

                        <h4 style="color:#764ba2; margin:30px 0 15px 0;">Conclusion</h4>

                        <div class="clickable-sentence" onclick="revealSentenceType(this, 'RESTATE POSITION')">
                            <span class="sentence-label"></span>
                            <p>In conclusion, while there are legitimate health concerns associated with later parenthood, the advantages of financial security and emotional maturity clearly outweigh these drawbacks.</p>
                        </div>

                        <div class="clickable-sentence" onclick="revealSentenceType(this, 'FINAL THOUGHT')">
                            <span class="sentence-label"></span>
                            <p>As modern medicine continues to advance and address age-related pregnancy risks, the trend toward delayed parenthood is likely to prove increasingly beneficial for both parents and children.</p>
                        </div>
                    </div>

                    <div class="info-box" style="margin-top:30px;">
                        <h3>üéØ Why This is Band 8:</h3>
                        <ul>
                            <li><strong>Task Response (8):</strong> Clear position from introduction; addresses both advantages and disadvantages; proves that advantages outweigh</li>
                            <li><strong>Coherence & Cohesion (8):</strong> Excellent flow with concession strategy; natural progression from disadvantages to stronger advantages</li>
                            <li><strong>Lexical Resource (8):</strong> Sophisticated vocabulary (notable shift, postponing, substantial benefits, emotional maturity); varied synonyms</li>
                            <li><strong>Grammar (8):</strong> Wide range of complex structures; minimal errors; excellent control</li>
                        </ul>
                    </div>

                    <div class="warning-box">
                        <h3>üîë Key Features to Notice:</h3>
                        <ul>
                            <li>Body 1 (disadvantages) = shorter, acknowledges concerns but downplays them</li>
                            <li>Body 2 (advantages) = longer, provides stronger arguments with more development</li>
                            <li>Uses "outweigh" language consistently throughout</li>
                            <li>Conclusion clearly restates position</li>
                        </ul>
                    </div>

                    <div class="progress-indicator">
                        <p class="progress-text">üìä Your Progress: Stage 7 of 8</p>
                    </div>
                </div>
            </div>

            <!-- Tab 7: Your Essay -->
            <div id="writing" class="tab-content">
                <div class="section">
                    <h2>üìù Stage 8: Write Your Own Essay</h2>
                    
                    <div class="info-box">
                        <strong>Your Task:</strong><br>
                        "Many students choose to study abroad for their university education. Do the advantages of studying in a foreign country outweigh the disadvantages?"<br><br>
                        <em>Target: 270-290 words | Time: 40 minutes</em>
                    </div>

                    <div class="warning-box">
                        <h3>‚úÖ Before You Write - Checklist:</h3>
                        <ul>
                            <li>[ ] This is an OUTWEIGH question - I need to take a clear position</li>
                            <li>[ ] I will use the concession strategy (acknowledge weaker side first)</li>
                            <li>[ ] My Body 2 will be longer and stronger than Body 1</li>
                            <li>[ ] I will use "outweigh" language in introduction and conclusion</li>
                            <li>[ ] I have 2-3 strong examples ready</li>
                        </ul>
                    </div>

                    <div class="interactive-area">
                        <h3>üìã Planning Space (5-10 minutes)</h3>
                        <textarea id="planning" placeholder="Plan your ideas here:
- Your position: Do advantages outweigh? YES or NO?
- Body 1 (weaker side): 2 points
- Body 2 (stronger side): 2-3 points with examples" style="min-height:150px;"></textarea>
                    </div>

                    <div class="interactive-area">
                        <h3>Introduction</h3>
                        <textarea id="intro" oninput="updateWordCount('intro')" placeholder="Write your introduction (paraphrase + clear position on outweigh)..."></textarea>
                        <div class="word-count" id="intro-count">0 words</div>
                    </div>

                    <div class="interactive-area">
                        <h3>Body Paragraph 1 (Acknowledge weaker side)</h3>
                        <textarea id="body1" oninput="updateWordCount('body1')" placeholder="Acknowledge the weaker side (2 points, brief treatment)..."></textarea>
                        <div class="word-count" id="body1-count">0 words</div>
                    </div>

                    <div class="interactive-area">
                        <h3>Body Paragraph 2 (Present stronger side)</h3>
                        <textarea id="body2" oninput="updateWordCount('body2')" placeholder="Present your stronger arguments (2-3 points, more development and examples)..."></textarea>
                        <div class="word-count" id="body2-count">0 words</div>
                    </div>

                    <div class="interactive-area">
                        <h3>Conclusion</h3>
                        <textarea id="conclusion" oninput="updateWordCount('conclusion')" placeholder="Restate your position (use outweigh language)..."></textarea>
                        <div class="word-count" id="conclusion-count">0 words</div>
                    </div>

                    <div class="info-box" style="background:white; border:3px solid #667eea;">
                        <h3 style="color:#667eea;">üìä Essay Statistics</h3>
                        <div style="margin-top:15px;">
                            <p><strong>Total Word Count:</strong> <span id="total-count" style="font-size:1.5em; color:#667eea;">0</span> words</p>
                            <p style="margin-top:10px;"><strong>Body 1:</strong> <span id="body1-display">0</span> words | <strong>Body 2:</strong> <span id="body2-display">0</span> words</p>
                            <div id="balance-message" style="margin-top:15px; padding:15px; background:#e8eaf6; border-radius:10px;"></div>
                        </div>
                    </div>

                    <button class="button" onclick="analyzeEssay()">Analyze My Essay</button>
                    <button class="button" onclick="downloadEssay()" style="background: #28a745; margin-left: 10px;">Download My Essay</button>
                    <div id="essay-feedback" class="feedback"></div>

                    <div class="info-box" style="margin-top:30px;">
                        <h3>üìö Homework</h3>
                        <ol>
                            <li>Write another essay using the simple discussion structure (no outweigh)</li>
                            <li>Review the model essay and identify all "outweigh" language</li>
                            <li>Practice brainstorming advantages/disadvantages for 5 common topics</li>
                            <li>Memorize 10 phrases from the key language section</li>
                        </ol>
                    </div>

                    <div class="progress-indicator">
                        <p class="progress-text">üéâ Congratulations! You've completed Stage 8 of 8!</p>
                    </div>

                    <div class="nav-buttons" style="justify-content:center; margin-top:40px;">
                        <a href="ielts_course_dashboard.html" class="button">Return to Dashboard</a>
                        <a href="ielts_lesson_9_problem_solution.html" class="button">Next Lesson: Problem-Solution Essays ‚Üí</a>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script>
        // Tab Management
        function showTab(tabName) {
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));
            
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Warm-up Activity
        function revealIdea(element, idea) {
            const hiddenIdea = element.querySelector('.hidden-idea');
            if (hiddenIdea.style.display === 'none') {
                hiddenIdea.textContent = idea;
                hiddenIdea.style.display = 'block';
                element.style.transform = 'scale(1.05)';
            }
        }

        // Question Type Identifier
        function checkQuestionType(questionNum, correctType, element) {
            const buttons = element.parentElement.querySelectorAll('.phrase-option');
            buttons.forEach(btn => btn.classList.remove('selected'));
            element.classList.add('selected');
            
            const feedback = document.getElementById(`q${questionNum}-feedback`);
            
            if (correctType === element.textContent.toLowerCase().replace(' question', '').replace(' ', '')) {
                feedback.className = 'feedback correct';
                if (questionNum === 1) {
                    feedback.textContent = '‚úÖ Correct! This is an OUTWEIGH question because it asks "Do advantages outweigh disadvantages?" You must take a clear position.';
                } else if (questionNum === 2) {
                    feedback.textContent = '‚úÖ Correct! This is a SIMPLE DISCUSSION because it just asks "What are the advantages and disadvantages?" No opinion is required.';
                } else if (questionNum === 3) {
                    feedback.textContent = '‚úÖ Correct! This asks you to discuss both sides AND give your opinion. Present balanced discussion, then conclude with your view.';
                }
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '‚ùå Not quite. Read the question carefully - look for key phrases like "outweigh" or "give your opinion".';
            }
        }

        // Drag and Drop Setup
        let draggedElement = null;

        function setupDragDrop() {
            const draggables = document.querySelectorAll('.draggable');
            const dropZones = document.querySelectorAll('.drop-zone');

            draggables.forEach(draggable => {
                draggable.addEventListener('dragstart', function() {
                    draggedElement = this;
                    this.classList.add('dragging');
                });

                draggable.addEventListener('dragend', function() {
                    this.classList.remove('dragging');
                });
            });

            dropZones.forEach(zone => {
                zone.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('drag-over');
                });

                zone.addEventListener('dragleave', function() {
                    this.classList.remove('drag-over');
                });

                zone.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('drag-over');
                    if (draggedElement) {
                        const content = this.querySelector('.drop-zone-content');
                        if (content) {
                            content.appendChild(draggedElement);
                        } else {
                            this.appendChild(draggedElement);
                        }
                    }
                });
            });
        }

        // Structure Exercise
        function checkStructure() {
            const dropZones = document.querySelectorAll('#structures .drop-zone');
            let correct = true;
            
            dropZones.forEach((zone, index) => {
                const item = zone.querySelector('.draggable');
                if (!item || parseInt(item.dataset.order) !== (index + 1)) {
                    correct = false;
                }
            });

            const feedback = document.getElementById('structure-feedback');
            if (correct) {
                feedback.className = 'feedback correct';
                feedback.textContent = '‚úÖ Perfect! For an outweigh essay: 1) State your position in intro, 2) Acknowledge weaker side briefly, 3) Present stronger side with more detail, 4) Restate your position in conclusion.';
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '‚ùå Not quite right. Remember: Introduction with position ‚Üí Brief acknowledgment of weaker side ‚Üí Stronger arguments for your side ‚Üí Conclusion restating position.';
            }
        }

        function resetStructure() {
            const items = document.querySelectorAll('#structures .draggable');
            const container = document.getElementById('structure-items');
            items.forEach(item => container.appendChild(item));
            document.getElementById('structure-feedback').style.display = 'none';
        }

        // Balance Meter
        function updateBalance() {
            const body1 = parseInt(document.getElementById('body1-slider').value);
            const body2 = parseInt(document.getElementById('body2-slider').value);
            
            document.getElementById('body1-words').textContent = body1;
            document.getElementById('body2-words').textContent = body2;
            
            const total = body1 + body2;
            const body2Percentage = (body2 / total) * 100;
            
            const pointer = document.getElementById('balance-pointer');
            pointer.style.left = body2Percentage + '%';
            
            const feedback = document.getElementById('balance-feedback');
            if (body2 > body1 * 1.3) {
                feedback.style.background = '#d4edda';
                feedback.innerHTML = '‚úÖ <strong>Excellent balance!</strong> Body 2 is significantly longer, showing your position clearly.';
            } else if (body2 > body1) {
                feedback.style.background = '#fff3cd';
                feedback.innerHTML = '‚ö†Ô∏è <strong>Good, but could be stronger.</strong> Body 2 should be noticeably longer (aim for 60-40 split).';
            } else {
                feedback.style.background = '#f8d7da';
                feedback.innerHTML = '‚ùå <strong>Balance is off!</strong> Body 2 (your stronger argument) should be longer than Body 1.';
            }
        }

        // Phrase Builder
        let phraseComponents = { opening: '', main: '', reason: '' };

        function selectPhrase(type, text, element) {
            const options = element.parentElement.querySelectorAll('.phrase-option');
            options.forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
            
            phraseComponents[type] = text;
            updateOutweighStatement();
        }

        function updateOutweighStatement() {
            const output = document.getElementById('outweigh-output');
            let statement = '';
            
            if (phraseComponents.opening) statement += phraseComponents.opening + ', ';
            if (phraseComponents.main) statement += phraseComponents.main;
            if (phraseComponents.reason) statement += ' ' + phraseComponents.reason;
            
            if (statement) {
                statement += '.';
                output.innerHTML = statement;
                output.style.color = '#000';
            }
        }

        // Sorting Exercise
        function checkSorting() {
            const advZone = document.querySelector('[data-category="advantage"] .drop-zone-content');
            const disZone = document.querySelector('[data-category="disadvantage"] .drop-zone-content');
            
            const advItems = advZone.querySelectorAll('.draggable');
            const disItems = disZone.querySelectorAll('.draggable');
            
            let correct = true;
            advItems.forEach(item => {
                if (item.dataset.type !== 'advantage') correct = false;
            });
            disItems.forEach(item => {
                if (item.dataset.type !== 'disadvantage') correct = false;
            });
            
            const feedback = document.getElementById('sorting-feedback');
            if (correct && advItems.length === 3 && disItems.length === 3) {
                feedback.className = 'feedback correct';
                feedback.textContent = '‚úÖ Perfect! You correctly identified all advantages and disadvantages. Notice how advantages focus on benefits (opportunities, access, experiences) while disadvantages focus on costs and problems.';
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '‚ùå Some items are in the wrong category. Think carefully: Does it describe a positive benefit (advantage) or a negative problem (disadvantage)?';
            }
        }

        function resetSorting() {
            const items = document.querySelectorAll('#practice .draggable');
            const container = document.getElementById('sorting-items');
            items.forEach(item => container.appendChild(item));
            document.getElementById('sorting-feedback').style.display = 'none';
        }

        // Sentence Completion
        function checkSentences() {
            const s1a = document.getElementById('sent1-a').value;
            const s1b = document.getElementById('sent1-b').value;
            const s2a = document.getElementById('sent2-a').value;
            const s2b = document.getElementById('sent2-b').value;
            const s3a = document.getElementById('sent3-a').value;
            const s3b = document.getElementById('sent3-b').value;
            
            const feedback = document.getElementById('sentences-feedback');
            
            if (s1a === 'correct' && s1b === 'correct' && s2a === 'correct' && 
                s2b === 'correct' && s3a === 'correct' && s3b === 'correct') {
                feedback.className = 'feedback correct';
                feedback.textContent = '‚úÖ Excellent! You understand how to use contrast words (While, However, Although) and key vocabulary (advantage, disadvantage, outweigh) correctly.';
            } else {
                feedback.className = 'feedback incorrect';
                let message = '‚ùå Some answers need correction:\n';
                if (s1a !== 'correct' || s1b !== 'correct') message += '‚Ä¢ Sentence 1: Use "While" for contrast, and the second part discusses "disadvantages"\n';
                if (s2a !== 'correct' || s2b !== 'correct') message += '‚Ä¢ Sentence 2: First part describes an "advantage", then "However" shows contrast\n';
                if (s3a !== 'correct' || s3b !== 'correct') message += '‚Ä¢ Sentence 3: "Although" shows concession, and advantages "outweigh" disadvantages\n';
                feedback.textContent = message;
                feedback.style.whiteSpace = 'pre-line';
            }
        }

        // Model Essay
        function revealSentenceType(element, label) {
            element.classList.toggle('revealed');
            element.querySelector('.sentence-label').textContent = label;
        }

        // Writing Exercise - Word Count
        function updateWordCount(section) {
            const textarea = document.getElementById(section);
            const count = textarea.value.trim().split(/\s+/).filter(word => word.length > 0).length;
            document.getElementById(`${section}-count`).textContent = count + ' words';
            
            updateTotalCount();
        }

        function updateTotalCount() {
            const intro = document.getElementById('intro').value.trim().split(/\s+/).filter(w => w.length > 0).length;
            const body1 = document.getElementById('body1').value.trim().split(/\s+/).filter(w => w.length > 0).length;
            const body2 = document.getElementById('body2').value.trim().split(/\s+/).filter(w => w.length > 0).length;
            const conclusion = document.getElementById('conclusion').value.trim().split(/\s+/).filter(w => w.length > 0).length;
            
            const total = intro + body1 + body2 + conclusion;
            document.getElementById('total-count').textContent = total;
            document.getElementById('body1-display').textContent = body1;
            document.getElementById('body2-display').textContent = body2;
            
            const balanceMsg = document.getElementById('balance-message');
            if (body1 > 0 && body2 > 0) {
                if (body2 > body1 * 1.3) {
                    balanceMsg.innerHTML = '‚úÖ <strong>Great balance!</strong> Body 2 is significantly longer, showing clear position.';
                    balanceMsg.style.background = '#d4edda';
                } else if (body2 > body1) {
                    balanceMsg.innerHTML = '‚ö†Ô∏è Body 2 is longer but could be stronger (aim for 60-40 split).';
                    balanceMsg.style.background = '#fff3cd';
                } else {
                    balanceMsg.innerHTML = '‚ùå Body 2 should be longer than Body 1 to support your position!';
                    balanceMsg.style.background = '#f8d7da';
                }
            }
        }

        function analyzeEssay() {
            const total = parseInt(document.getElementById('total-count').textContent);
            const feedback = document.getElementById('essay-feedback');
            
            if (total === 0) {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '‚ùå Please write your essay first!';
                return;
            }
            
            let analysis = 'üìä Essay Analysis:\n\n';
            
            if (total < 250) {
                feedback.className = 'feedback incorrect';
                analysis += `‚ùå Word Count: ${total} words - UNDER MINIMUM (need 250+)\n`;
            } else if (total >= 270 && total <= 290) {
                feedback.className = 'feedback correct';
                analysis += `‚úÖ Word Count: ${total} words - PERFECT!\n`;
            } else if (total >= 250 && total < 270) {
                feedback.className = 'feedback incorrect';
                analysis += `‚ö†Ô∏è Word Count: ${total} words - Above minimum but aim for 270-290\n`;
            } else {
                feedback.className = 'feedback incorrect';
                analysis += `‚ö†Ô∏è Word Count: ${total} words - A bit long, aim for 270-290\n`;
            }
            
            const body1 = parseInt(document.getElementById('body1-display').textContent);
            const body2 = parseInt(document.getElementById('body2-display').textContent);
            
            analysis += '\nüìù Balance Check:\n';
            if (body2 > body1 * 1.3) {
                analysis += '‚úÖ Excellent! Body 2 clearly stronger than Body 1\n';
            } else if (body2 > body1) {
                analysis += '‚ö†Ô∏è Body 2 is longer but could be more developed\n';
            } else {
                analysis += '‚ùå Body 2 should be longer to support your position!\n';
            }
            
            const intro = document.getElementById('intro').value.toLowerCase();
            if (intro.includes('outweigh')) {
                analysis += '\n‚úÖ Position clear in introduction\n';
            } else {
                analysis += '\n‚ö†Ô∏è Remember to use "outweigh" language in introduction\n';
            }
            
            analysis += '\nüí° Next Steps:\n';
            analysis += '‚Ä¢ Review for grammar and vocabulary errors\n';
            analysis += '‚Ä¢ Check you used "outweigh" language consistently\n';
            analysis += '‚Ä¢ Ensure examples support your points\n';
            analysis += '‚Ä¢ Verify position is clear throughout\n';
            analysis += '‚Ä¢ Ask your teacher for detailed feedback!';
            
            feedback.textContent = analysis;
            feedback.style.whiteSpace = 'pre-line';
        }

        // Download Essay Function
        function downloadEssay() {
            const planning = document.getElementById('planning').value;
            const intro = document.getElementById('intro').value;
            const body1 = document.getElementById('body1').value;
            const body2 = document.getElementById('body2').value;
            const conclusion = document.getElementById('conclusion').value;
            
            if (!intro && !body1 && !body2 && !conclusion) {
                alert('Please write your essay first!');
                return;
            }
            
            // Get word counts
            const introCount = intro.trim().split(/\s+/).filter(word => word.length > 0).length;
            const body1Count = body1.trim().split(/\s+/).filter(word => word.length > 0).length;
            const body2Count = body2.trim().split(/\s+/).filter(word => word.length > 0).length;
            const conclusionCount = conclusion.trim().split(/\s+/).filter(word => word.length > 0).length;
            const totalCount = introCount + body1Count + body2Count + conclusionCount;
            
            // Create the essay text
            let essayText = '========================================\n';
            essayText += 'IELTS WRITING TASK 2 - ADVANTAGES & DISADVANTAGES ESSAY\n';
            essayText += 'Lesson 8 Practice Essay\n';
            essayText += `Date: ${new Date().toLocaleDateString()}\n`;
            essayText += `Total Word Count: ${totalCount} words\n`;
            essayText += '========================================\n\n';
            
            if (planning) {
                essayText += '--- PLANNING NOTES ---\n\n';
                essayText += planning + '\n\n';
            }
            
            essayText += '--- INTRODUCTION ---\n';
            essayText += `(${introCount} words)\n\n`;
            essayText += intro + '\n\n';
            
            essayText += '--- BODY PARAGRAPH 1 ---\n';
            essayText += `(${body1Count} words)\n\n`;
            essayText += body1 + '\n\n';
            
            essayText += '--- BODY PARAGRAPH 2 ---\n';
            essayText += `(${body2Count} words)\n\n`;
            essayText += body2 + '\n\n';
            
            essayText += '--- CONCLUSION ---\n';
            essayText += `(${conclusionCount} words)\n\n`;
            essayText += conclusion + '\n\n';
            
            essayText += '========================================\n';
            essayText += 'END OF ESSAY\n';
            essayText += '========================================\n';
            
            // Create download
            const blob = new Blob([essayText], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `IELTS_Lesson8_Essay_${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
            
            alert('Essay downloaded successfully!');
        }

        // Initialize
        window.onload = function() {
            setupDragDrop();
            updateBalance();
        };
    </script>
</body>
</html>