<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IELTS Writing Task 2 - Interactive Lesson</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 50px;
        }

        .section h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .section h3 {
            color: #764ba2;
            font-size: 1.5em;
            margin: 25px 0 15px 0;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab {
            padding: 15px 30px;
            background: #f0f0f0;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.3s;
        }

        .tab:hover {
            background: #e0e0e0;
        }

        .tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Band Score Sliders */
        .criteria-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .criterion {
            background: #f9f9f9;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .criterion h4 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .slider-container {
            margin: 20px 0;
        }

        .slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
        }

        .band-display {
            text-align: center;
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
            margin: 15px 0;
        }

        .band-description {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            min-height: 100px;
            font-size: 0.95em;
            line-height: 1.6;
        }

        /* Drag and Drop */
        .drag-drop-area {
            background: #f9f9f9;
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
        }

        .draggable-items {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
            min-height: 80px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            border: 2px dashed #ccc;
        }

        .draggable {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            cursor: move;
            user-select: none;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transition: transform 0.2s;
        }

        .draggable:hover {
            transform: scale(1.05);
        }

        .draggable.dragging {
            opacity: 0.5;
        }

        .drop-zone {
            min-height: 60px;
            padding: 15px;
            margin: 10px 0;
            background: white;
            border: 2px dashed #667eea;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
            transition: all 0.3s;
        }

        .drop-zone.drag-over {
            background: #e8eaf6;
            border-color: #764ba2;
        }

        .drop-zone-label {
            font-weight: bold;
            color: #667eea;
            min-width: 180px;
        }

        .check-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 10px;
            font-size: 1.1em;
            cursor: pointer;
            margin-top: 20px;
            transition: transform 0.2s;
        }

        .check-button:hover {
            transform: scale(1.05);
        }

        .feedback {
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            font-weight: bold;
            display: none;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 2px solid #28a745;
            display: block;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #dc3545;
            display: block;
        }

        /* Essay Structure Builder */
        .essay-builder {
            background: #f9f9f9;
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
        }

        .essay-part {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            border-left: 5px solid #667eea;
        }

        .essay-part h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .essay-part textarea {
            width: 100%;
            min-height: 100px;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1em;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            resize: vertical;
        }

        .word-count {
            text-align: right;
            color: #666;
            margin-top: 5px;
            font-size: 0.9em;
        }

        /* Clickable Examples */
        .example-sentence {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            cursor: pointer;
            border: 2px solid #ddd;
            transition: all 0.3s;
            position: relative;
        }

        .example-sentence:hover {
            border-color: #667eea;
            transform: translateX(5px);
        }

        .example-sentence .label {
            display: none;
            position: absolute;
            top: -10px;
            right: 20px;
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
        }

        .example-sentence.revealed .label {
            display: block;
        }

        .example-sentence.revealed {
            background: #e8eaf6;
            border-color: #764ba2;
        }

        /* Linking Words */
        .linking-words-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }

        .linking-word-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #ddd;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .linking-word-card:hover {
            border-color: #667eea;
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .linking-word-card.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #764ba2;
        }

        .linking-word-card strong {
            display: block;
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        /* Progress Indicators */
        .progress-bar {
            width: 100%;
            height: 30px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        /* Model Essay */
        .model-essay {
            background: #f9f9f9;
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
            line-height: 1.8;
        }

        .model-essay p {
            margin: 15px 0;
        }

        .highlightable {
            cursor: pointer;
            transition: all 0.2s;
        }

        .highlightable:hover {
            background: #fff3cd;
        }

        .highlight-thesis {
            background: #d1ecf1;
            padding: 2px 5px;
            border-radius: 3px;
        }

        .highlight-topic {
            background: #d4edda;
            padding: 2px 5px;
            border-radius: 3px;
        }

        .highlight-linking {
            background: #fff3cd;
            padding: 2px 5px;
            border-radius: 3px;
            font-weight: bold;
        }

        .highlight-evidence {
            background: #f8d7da;
            padding: 2px 5px;
            border-radius: 3px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            .content {
                padding: 20px;
            }
            .tabs {
                flex-direction: column;
            }
            .criteria-container {
                grid-template-columns: 1fr;
            }
        }

        .info-box {
            background: #e8eaf6;
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #667eea;
            margin: 20px 0;
        }

        .info-box strong {
            color: #667eea;
        }

        .reset-button {
            background: #6c757d;
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 8px;
            cursor: pointer;
            margin-left: 10px;
        }

        .reset-button:hover {
            background: #5a6268;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎓 IELTS Writing Task 2</h1>
            <p>Interactive Learning Experience - Master Opinion Essays</p>
        </div>

        <div class="content">
            <!-- Navigation Tabs -->
            <div class="tabs">
                <button class="tab active" onclick="showTab('criteria')">📊 Band Score Criteria</button>
                <button class="tab" onclick="showTab('structure')">🗂️ Essay Structure</button>
                <button class="tab" onclick="showTab('thesis')">✏️ Thesis Builder</button>
                <button class="tab" onclick="showTab('paragraph')">📝 Paragraph Builder</button>
                <button class="tab" onclick="showTab('linking')">🔗 Linking Words</button>
                <button class="tab" onclick="showTab('model')">⭐ Model Essay</button>
                <button class="tab" onclick="showTab('practice')">✍️ Practice Writing</button>
            </div>

            <!-- Tab 1: Band Score Criteria -->
            <div id="criteria" class="tab-content active">
                <div class="section">
                    <h2>Understanding IELTS Band Scores</h2>
                    <p style="font-size: 1.1em; margin-bottom: 30px;">Use the sliders below to explore what different band scores look like for each criterion. Each criterion is worth 25% of your final score.</p>
                    
                    <div class="criteria-container">
                        <div class="criterion">
                            <h4>Task Response (TR)</h4>
                            <div class="slider-container">
                                <input type="range" min="5" max="8" value="7" class="slider" id="tr-slider">
                                <div class="band-display" id="tr-band">Band 7</div>
                                <div class="band-description" id="tr-desc">
                                    Position clear throughout; main ideas extended and supported; all parts of the task addressed.
                                </div>
                            </div>
                        </div>

                        <div class="criterion">
                            <h4>Coherence & Cohesion (CC)</h4>
                            <div class="slider-container">
                                <input type="range" min="5" max="8" value="7" class="slider" id="cc-slider">
                                <div class="band-display" id="cc-band">Band 7</div>
                                <div class="band-description" id="cc-desc">
                                    Clear progression throughout; range of cohesive devices used appropriately; clear central topic in each paragraph.
                                </div>
                            </div>
                        </div>

                        <div class="criterion">
                            <h4>Lexical Resource (LR)</h4>
                            <div class="slider-container">
                                <input type="range" min="5" max="8" value="7" class="slider" id="lr-slider">
                                <div class="band-display" id="lr-band">Band 7</div>
                                <div class="band-description" id="lr-desc">
                                    Flexible use of vocabulary; less common words with some awareness of style and collocation; occasional errors don't impede meaning.
                                </div>
                            </div>
                        </div>

                        <div class="criterion">
                            <h4>Grammar Range & Accuracy (GRA)</h4>
                            <div class="slider-container">
                                <input type="range" min="5" max="8" value="7" class="slider" id="gra-slider">
                                <div class="band-display" id="gra-band">Band 7</div>
                                <div class="band-description" id="gra-desc">
                                    Variety of complex structures used; frequent error-free sentences; good control of grammar and punctuation.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="info-box" style="margin-top: 40px;">
                        <strong>💡 Pro Tip:</strong> To get Band 7+ overall, you need to score Band 7 in at least 3 out of 4 criteria. Focus on your weakest areas!
                    </div>
                </div>
            </div>

            <!-- Tab 2: Essay Structure -->
            <div id="structure" class="tab-content">
                <div class="section">
                    <h2>Essay Structure - Drag & Drop</h2>
                    <p style="font-size: 1.1em; margin-bottom: 30px;">Arrange the parts of an opinion essay in the correct order. Drag each box to its proper position.</p>
                    
                    <div class="drag-drop-area">
                        <h3>Available Parts (Drag these):</h3>
                        <div class="draggable-items" id="structure-items">
                            <div class="draggable" draggable="true">Conclusion - Restate position & summarize</div>
                            <div class="draggable" draggable="true">Body Paragraph 2 - Second main reason</div>
                            <div class="draggable" draggable="true">Body Paragraph 1 - First main reason</div>
                            <div class="draggable" draggable="true">Introduction - Hook, paraphrase, thesis</div>
                            <div class="draggable" draggable="true">Counter-argument (Optional)</div>
                        </div>

                        <h3>Essay Structure (Drop here in order):</h3>
                        <div class="drop-zone" data-position="1">
                            <span class="drop-zone-label">1. First part:</span>
                        </div>
                        <div class="drop-zone" data-position="2">
                            <span class="drop-zone-label">2. Second part:</span>
                        </div>
                        <div class="drop-zone" data-position="3">
                            <span class="drop-zone-label">3. Third part:</span>
                        </div>
                        <div class="drop-zone" data-position="4">
                            <span class="drop-zone-label">4. Fourth part:</span>
                        </div>
                        <div class="drop-zone" data-position="5">
                            <span class="drop-zone-label">5. Fifth part (optional):</span>
                        </div>

                        <button class="check-button" onclick="checkStructure()">Check My Answer</button>
                        <button class="reset-button" onclick="resetStructure()">Reset</button>
                        <div id="structure-feedback" class="feedback"></div>
                    </div>

                    <div class="info-box">
                        <h3>💡 Essay Structure Tips:</h3>
                        <ul style="margin-left: 25px; margin-top: 10px; line-height: 1.8;">
                            <li><strong>Introduction:</strong> 3-4 sentences (Hook + Paraphrase + Thesis)</li>
                            <li><strong>Body Paragraphs:</strong> 5-7 sentences each (Topic + Explain + Evidence + Link)</li>
                            <li><strong>Conclusion:</strong> 2-3 sentences (Restate + Summarize + Final thought)</li>
                            <li><strong>Total Words:</strong> 270-290 (gives buffer above 250 minimum)</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Tab 3: Thesis Builder -->
            <div id="thesis" class="tab-content">
                <div class="section">
                    <h2>Build Strong Thesis Statements</h2>
                    <p style="font-size: 1.1em; margin-bottom: 30px;">A strong thesis = Position + Because + Reason 1 + and/while + Reason 2</p>
                    
                    <div class="essay-builder">
                        <h3>Practice Question:</h3>
                        <div class="info-box">
                            <strong>Task:</strong> "Some people believe that teenagers should be required to do unpaid community service in their free time. To what extent do you agree or disagree?"
                        </div>

                        <h3>Build Your Thesis:</h3>
                        <div class="drag-drop-area">
                            <h4>Step 1: Choose your position</h4>
                            <div class="linking-words-grid">
                                <div class="linking-word-card" onclick="selectPosition(this, 'I strongly agree that')">
                                    <strong>I strongly agree that</strong>
                                </div>
                                <div class="linking-word-card" onclick="selectPosition(this, 'I firmly believe that')">
                                    <strong>I firmly believe that</strong>
                                </div>
                                <div class="linking-word-card" onclick="selectPosition(this, 'I completely disagree that')">
                                    <strong>I completely disagree that</strong>
                                </div>
                                <div class="linking-word-card" onclick="selectPosition(this, 'While there are some drawbacks,')">
                                    <strong>While there are some drawbacks,</strong>
                                </div>
                            </div>

                            <h4 style="margin-top: 25px;">Step 2: Add your main subject</h4>
                            <div class="linking-words-grid">
                                <div class="linking-word-card" onclick="selectSubject(this, 'mandatory community service')">
                                    <strong>mandatory community service</strong>
                                </div>
                                <div class="linking-word-card" onclick="selectSubject(this, 'requiring teenagers to volunteer')">
                                    <strong>requiring teenagers to volunteer</strong>
                                </div>
                                <div class="linking-word-card" onclick="selectSubject(this, 'unpaid work for young people')">
                                    <strong>unpaid work for young people</strong>
                                </div>
                            </div>

                            <h4 style="margin-top: 25px;">Step 3: Choose connector</h4>
                            <div class="linking-words-grid">
                                <div class="linking-word-card" onclick="selectConnector(this, 'because')">
                                    <strong>because</strong>
                                </div>
                                <div class="linking-word-card" onclick="selectConnector(this, 'since')">
                                    <strong>since</strong>
                                </div>
                                <div class="linking-word-card" onclick="selectConnector(this, 'as')">
                                    <strong>as</strong>
                                </div>
                            </div>

                            <h4 style="margin-top: 25px;">Step 4: Add your reasons</h4>
                            <textarea id="thesis-reasons" placeholder="Type your two main reasons here... (e.g., it develops essential life skills and benefits local communities)" style="width: 100%; min-height: 80px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 1em;"></textarea>

                            <h3 style="margin-top: 30px; color: #667eea;">Your Complete Thesis:</h3>
                            <div class="info-box" id="thesis-output" style="background: white; border: 3px solid #667eea; min-height: 80px; font-size: 1.1em; line-height: 1.8;">
                                <em style="color: #999;">Build your thesis using the options above...</em>
                            </div>

                            <button class="check-button" onclick="analyzeThesis()" style="margin-top: 20px;">Analyze My Thesis</button>
                            <div id="thesis-feedback" class="feedback"></div>
                        </div>
                    </div>

                    <div class="info-box" style="margin-top: 30px;">
                        <h3>✅ Good Thesis Examples:</h3>
                        <p style="margin: 10px 0; padding: 10px; background: white; border-radius: 5px;">
                            "I firmly believe that mandatory community service is beneficial <strong>because</strong> it develops essential life skills <strong>and</strong> strengthens community bonds."
                        </p>
                        <p style="margin: 10px 0; padding: 10px; background: white; border-radius: 5px;">
                            "<strong>While</strong> there are some concerns about time commitment, I believe the advantages outweigh the disadvantages <strong>because</strong> teenagers gain valuable experience <strong>while</strong> contributing to society."
                        </p>
                        
                        <h3 style="margin-top: 20px; color: #dc3545;">❌ Weak Thesis Examples:</h3>
                        <p style="margin: 10px 0; padding: 10px; background: #f8d7da; border-radius: 5px;">
                            "I think community service is good." <em>(Too simple, no reasons)</em>
                        </p>
                        <p style="margin: 10px 0; padding: 10px; background: #f8d7da; border-radius: 5px;">
                            "This essay will discuss both views." <em>(No clear position)</em>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Tab 4: Paragraph Builder -->
            <div id="paragraph" class="tab-content">
                <div class="section">
                    <h2>Build Perfect Body Paragraphs</h2>
                    <p style="font-size: 1.1em; margin-bottom: 30px;">Every body paragraph needs: Topic Sentence → Explanation → Evidence/Example → Link back</p>
                    
                    <div class="drag-drop-area">
                        <h3>Drag sentences into the correct order:</h3>
                        <div class="draggable-items" id="paragraph-items">
                            <div class="draggable" draggable="true" data-type="link">This demonstrates that volunteering directly contributes to both personal growth and community welfare.</div>
                            <div class="draggable" draggable="true" data-type="topic">Firstly, engaging in community service helps teenagers develop essential life skills.</div>
                            <div class="draggable" draggable="true" data-type="evidence">For instance, a teenager volunteering at a food bank not only assists those in need but also gains understanding of social inequality.</div>
                            <div class="draggable" draggable="true" data-type="explain">When young people work at charities or community projects, they learn valuable qualities such as empathy, responsibility, and teamwork.</div>
                        </div>

                        <h3>Build Your Paragraph (Drop in order):</h3>
                        <div class="drop-zone" data-type="topic">
                            <span class="drop-zone-label">Topic Sentence:</span>
                        </div>
                        <div class="drop-zone" data-type="explain">
                            <span class="drop-zone-label">Explanation:</span>
                        </div>
                        <div class="drop-zone" data-type="evidence">
                            <span class="drop-zone-label">Evidence/Example:</span>
                        </div>
                        <div class="drop-zone" data-type="link">
                            <span class="drop-zone-label">Link Back:</span>
                        </div>

                        <button class="check-button" onclick="checkParagraph()">Check My Paragraph</button>
                        <button class="reset-button" onclick="resetParagraph()">Reset</button>
                        <div id="paragraph-feedback" class="feedback"></div>
                    </div>

                    <div class="info-box" style="margin-top: 30px;">
                        <h3>📝 Paragraph Structure Formula (TEEL):</h3>
                        <ul style="margin-left: 25px; margin-top: 10px; line-height: 1.8;">
                            <li><strong>T</strong>opic Sentence: State your main point (with signposting like "Firstly," "Secondly")</li>
                            <li><strong>E</strong>xplanation: Develop and explain your point in detail</li>
                            <li><strong>E</strong>vidence: Give a specific example or evidence (use "For instance," "For example")</li>
                            <li><strong>L</strong>ink: Connect back to your thesis or transition to next point</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Tab 5: Linking Words -->
            <div id="linking" class="tab-content">
                <div class="section">
                    <h2>Master Linking Words & Cohesive Devices</h2>
                    <p style="font-size: 1.1em; margin-bottom: 30px;">Click on categories to see linking words. These connect your ideas and improve your Coherence & Cohesion score!</p>
                    
                    <div class="linking-words-grid">
                        <div class="linking-word-card" onclick="showLinkingCategory('addition')">
                            <strong>➕ Addition</strong>
                            <p>Adding more ideas</p>
                        </div>
                        <div class="linking-word-card" onclick="showLinkingCategory('contrast')">
                            <strong>⚖️ Contrast</strong>
                            <p>Showing difference</p>
                        </div>
                        <div class="linking-word-card" onclick="showLinkingCategory('result')">
                            <strong>📊 Result</strong>
                            <p>Showing consequence</p>
                        </div>
                        <div class="linking-word-card" onclick="showLinkingCategory('example')">
                            <strong>💡 Example</strong>
                            <p>Giving evidence</p>
                        </div>
                        <div class="linking-word-card" onclick="showLinkingCategory('sequence')">
                            <strong>🔢 Sequence</strong>
                            <p>Ordering ideas</p>
                        </div>
                        <div class="linking-word-card" onclick="showLinkingCategory('emphasis')">
                            <strong>❗ Emphasis</strong>
                            <p>Stressing importance</p>
                        </div>
                    </div>

                    <div id="linking-display" class="info-box" style="margin-top: 30px; display: none;">
                        <h3 id="linking-title"></h3>
                        <div id="linking-content"></div>
                    </div>

                    <div class="essay-builder" style="margin-top: 30px;">
                        <h3>Practice: Complete the Sentences</h3>
                        <p style="margin-bottom: 20px;">Choose the best linking word for each sentence:</p>
                        
                        <div style="background: white; padding: 20px; border-radius: 10px; margin: 15px 0;">
                            <p><strong>1.</strong> Community service teaches valuable skills. <select id="link1" style="padding: 5px; font-size: 1em;">
                                <option value="">Choose...</option>
                                <option value="correct">Furthermore</option>
                                <option value="wrong1">However</option>
                                <option value="wrong2">For example</option>
                            </select>, it strengthens community bonds.</p>
                        </div>

                        <div style="background: white; padding: 20px; border-radius: 10px; margin: 15px 0;">
                            <p><strong>2.</strong> <select id="link2" style="padding: 5px; font-size: 1em;">
                                <option value="">Choose...</option>
                                <option value="wrong1">Therefore</option>
                                <option value="correct">Although</option>
                                <option value="wrong2">Moreover</option>
                            </select> some argue it takes too much time, the benefits far outweigh this concern.</p>
                        </div>

                        <div style="background: white; padding: 20px; border-radius: 10px; margin: 15px 0;">
                            <p><strong>3.</strong> Students learn responsibility through volunteering. <select id="link3" style="padding: 5px; font-size: 1em;">
                                <option value="">Choose...</option>
                                <option value="wrong1">Nevertheless</option>
                                <option value="wrong2">In addition</option>
                                <option value="correct">For instance</option>
                            </select>, those working at animal shelters develop time management skills.</p>
                        </div>

                        <button class="check-button" onclick="checkLinking()">Check Answers</button>
                        <div id="linking-practice-feedback" class="feedback"></div>
                    </div>
                </div>
            </div>

            <!-- Tab 6: Model Essay -->
            <div id="model" class="tab-content">
                <div class="section">
                    <h2>Analyze a Band 8 Model Essay</h2>
                    <p style="font-size: 1.1em; margin-bottom: 20px;">Click on sentences to reveal their function in the essay!</p>
                    
                    <div class="info-box">
                        <strong>Question:</strong> "Some people believe that teenagers should be required to do unpaid community service in their free time. This can benefit both teenagers and the community. To what extent do you agree or disagree?"
                    </div>

                    <div class="model-essay">
                        <h3 style="color: #667eea; margin-bottom: 15px;">Band 8 Model Essay</h3>
                        
                        <p class="example-sentence" onclick="revealLabel(this, 'HOOK - Context Setting')">
                            <span class="label"></span>
                            Community service has become an increasingly debated topic in education.
                        </p>

                        <p class="example-sentence" onclick="revealLabel(this, 'PARAPHRASE - Restate question')">
                            <span class="label"></span>
                            While some argue that adolescents should dedicate their leisure time to voluntary work for the benefit of society, others believe this approach is too demanding.
                        </p>

                        <p class="example-sentence" onclick="revealLabel(this, 'THESIS - Clear position + reasons')">
                            <span class="label"></span>
                            I firmly agree that mandatory community service programs can be highly beneficial for both young people and their local communities.
                        </p>

                        <h4 style="color: #764ba2; margin: 30px 0 15px 0;">Body Paragraph 1</h4>

                        <p class="example-sentence" onclick="revealLabel(this, 'TOPIC SENTENCE - Main idea 1')">
                            <span class="label"></span>
                            Firstly, engaging in unpaid community work helps teenagers develop essential life skills and character.
                        </p>

                        <p class="example-sentence" onclick="revealLabel(this, 'EXPLANATION - Developing the idea')">
                            <span class="label"></span>
                            When young people volunteer at local charities, care homes, or environmental projects, they learn valuable qualities such as empathy, responsibility, and teamwork.
                        </p>

                        <p class="example-sentence" onclick="revealLabel(this, 'EVIDENCE - Specific example')">
                            <span class="label"></span>
                            For instance, a teenager volunteering at a food bank not only assists those in need but also gains a deeper understanding of social inequality and the importance of giving back.
                        </p>

                        <p class="example-sentence" onclick="revealLabel(this, 'LINK - Connect to thesis')">
                            <span class="label"></span>
                            This hands-on experience is often more impactful than classroom learning alone.
                        </p>

                        <h4 style="color: #764ba2; margin: 30px 0 15px 0;">Body Paragraph 2</h4>

                        <p class="example-sentence" onclick="revealLabel(this, 'TOPIC SENTENCE - Main idea 2')">
                            <span class="label"></span>
                            Furthermore, community service programs address genuine social needs while strengthening community bonds.
                        </p>

                        <p class="example-sentence" onclick="revealLabel(this, 'EXPLANATION - Developing the idea')">
                            <span class="label"></span>
                            Many organizations, particularly in areas such as elderly care and youth mentoring, rely heavily on volunteers to function effectively.
                        </p>

                        <p class="example-sentence" onclick="revealLabel(this, 'EVIDENCE - Specific data/example')">
                            <span class="label"></span>
                            By requiring teenagers to participate, communities benefit from increased support for these vital services. In my own city, schools that implemented mandatory volunteering saw a 40% increase in support for local charities.
                        </p>

                        <p class="example-sentence" onclick="revealLabel(this, 'LINK - Emphasize impact')">
                            <span class="label"></span>
                            This demonstrates the tangible positive impact such programs can have.
                        </p>

                        <h4 style="color: #764ba2; margin: 30px 0 15px 0;">Counter-argument</h4>

                        <p class="example-sentence" onclick="revealLabel(this, 'COUNTER-ARGUMENT - Acknowledge opposite view')">
                            <span class="label"></span>
                            Admittedly, critics argue that mandating service work infringes on teenagers' already limited free time, which could be spent on academic studies or extracurricular activities.
                        </p>

                        <p class="example-sentence" onclick="revealLabel(this, 'REFUTATION - Address the concern')">
                            <span class="label"></span>
                            However, this concern overlooks the fact that community service itself is an educational experience that can complement formal schooling while teaching practical, real-world skills that will benefit students throughout their lives.
                        </p>

                        <h4 style="color: #764ba2; margin: 30px 0 15px 0;">Conclusion</h4>

                        <p class="example-sentence" onclick="revealLabel(this, 'RESTATE POSITION - Paraphrased thesis')">
                            <span class="label"></span>
                            In conclusion, I strongly believe that requiring teenagers to participate in community service creates a win-win situation for both young people and society.
                        </p>

                        <p class="example-sentence" onclick="revealLabel(this, 'SUMMARIZE - Main reasons')">
                            <span class="label"></span>
                            The personal development and civic awareness gained through such programs far outweigh concerns about time commitment.
                        </p>

                        <p class="example-sentence" onclick="revealLabel(this, 'FINAL THOUGHT - Broader impact')">
                            <span class="label"></span>
                            Ultimately, this approach prepares young people to become more engaged and responsible citizens.
                        </p>

                        <div style="text-align: right; margin-top: 20px; color: #666; font-style: italic;">
                            [Word count: 289 words]
                        </div>
                    </div>

                    <div class="info-box" style="margin-top: 30px;">
                        <h3>🎯 Why This is Band 8:</h3>
                        <ul style="margin-left: 25px; margin-top: 10px; line-height: 1.8;">
                            <li><strong>Task Response:</strong> Clear position throughout, all parts fully addressed, well-developed arguments</li>
                            <li><strong>Coherence & Cohesion:</strong> Excellent progression, skillful use of linking devices (Firstly, Furthermore, Admittedly, However)</li>
                            <li><strong>Lexical Resource:</strong> Sophisticated vocabulary (adolescents, infringes, tangible, civic awareness), precise word choice</li>
                            <li><strong>Grammar:</strong> Wide variety of complex structures, minimal errors, excellent control</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Tab 7: Practice Writing -->
            <div id="practice" class="tab-content">
                <div class="section">
                    <h2>Practice Writing Your Essay</h2>
                    
                    <div class="info-box">
                        <strong>Your Task:</strong><br>
                        "Some people think that the best way to reduce crime is to give longer prison sentences. Others believe that there are better alternative ways to reduce crime. Discuss both views and give your opinion."<br><br>
                        <em>Essay Type: Opinion (Discussion + Your View) | Target: 270-290 words | Time: 40 minutes</em>
                    </div>

                    <div class="essay-builder">
                        <div class="essay-part">
                            <h4>Introduction (3-4 sentences)</h4>
                            <p style="font-size: 0.9em; color: #666; margin-bottom: 10px;">Hook + Paraphrase question + State your thesis/position</p>
                            <textarea id="intro-text" oninput="updateWordCount('intro')"></textarea>
                            <div class="word-count" id="intro-count">0 words</div>
                        </div>

                        <div class="essay-part">
                            <h4>Body Paragraph 1 - First View (5-7 sentences)</h4>
                            <p style="font-size: 0.9em; color: #666; margin-bottom: 10px;">Topic sentence + Explanation + Example + Link</p>
                            <textarea id="body1-text" oninput="updateWordCount('body1')"></textarea>
                            <div class="word-count" id="body1-count">0 words</div>
                        </div>

                        <div class="essay-part">
                            <h4>Body Paragraph 2 - Second View (5-7 sentences)</h4>
                            <p style="font-size: 0.9em; color: #666; margin-bottom: 10px;">Topic sentence + Explanation + Example + Link</p>
                            <textarea id="body2-text" oninput="updateWordCount('body2')"></textarea>
                            <div class="word-count" id="body2-count">0 words</div>
                        </div>

                        <div class="essay-part">
                            <h4>Conclusion (2-3 sentences)</h4>
                            <p style="font-size: 0.9em; color: #666; margin-bottom: 10px;">Restate position + Summarize main points + Final thought</p>
                            <textarea id="conclusion-text" oninput="updateWordCount('conclusion')"></textarea>
                            <div class="word-count" id="conclusion-count">0 words</div>
                        </div>

                        <div class="info-box" style="background: white; border: 3px solid #667eea;">
                            <h3 style="color: #667eea;">📊 Essay Statistics</h3>
                            <div style="margin-top: 15px;">
                                <strong>Total Word Count:</strong> <span id="total-count" style="font-size: 1.5em; color: #667eea;">0</span> words
                                <div class="progress-bar">
                                    <div class="progress-fill" id="word-progress">0%</div>
                                </div>
                                <p style="margin-top: 10px; color: #666;"><em>Target: 270-290 words (minimum 250)</em></p>
                            </div>
                        </div>

                        <button class="check-button" onclick="analyzeEssay()">Analyze My Essay</button>
                        <div id="essay-feedback" class="feedback"></div>
                    </div>

                    <div class="info-box" style="margin-top: 30px;">
                        <h3>✏️ Writing Tips for Opinion Essays:</h3>
                        <ul style="margin-left: 25px; margin-top: 10px; line-height: 1.8;">
                            <li><strong>Plan for 5 minutes:</strong> Identify both views and decide your position</li>
                            <li><strong>Introduction:</strong> Paraphrase the question + state your clear position</li>
                            <li><strong>Body Paragraph 1:</strong> Discuss the FIRST view (even if you disagree with it)</li>
                            <li><strong>Body Paragraph 2:</strong> Discuss the SECOND view + strengthen your position</li>
                            <li><strong>Balance:</strong> Give both views fair treatment before favoring one</li>
                            <li><strong>Examples:</strong> Always provide specific examples to support each view</li>
                            <li><strong>Conclusion:</strong> Restate your position clearly + summarize both views</li>
                            <li><strong>Check (2 min):</strong> Grammar, spelling, word count (270-290 ideal)</li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script>
        // Band Score Descriptions
        const bandDescriptions = {
            tr: {
                5: "Position unclear or inconsistent; ideas not fully developed; may not address all parts of the task.",
                6: "Position clear but development may be limited; addresses all parts but some more fully than others.",
                7: "Position clear throughout; main ideas extended and supported; all parts addressed with relevant ideas.",
                8: "Position fully developed; all parts thoroughly addressed; ideas skillfully extended with examples."
            },
            cc: {
                5: "Basic organization; limited range of cohesive devices; may be repetitive or inappropriate.",
                6: "Logical organization; some cohesive devices but not always accurate; paragraphing may be faulty.",
                7: "Clear progression throughout; range of cohesive devices used appropriately; clear central topic.",
                8: "Seamless progression; skillful use of cohesive devices; paragraphing highly appropriate."
            },
            lr: {
                5: "Limited vocabulary; may rely on basic words; errors may cause difficulty for reader.",
                6: "Adequate vocabulary for task; some errors but meaning generally clear; attempts less common words.",
                7: "Flexible vocabulary with some precision; less common words with awareness of style; occasional errors.",
                8: "Wide range used naturally and flexibly; sophisticated control; rare minor errors don't impede."
            },
            gra: {
                5: "Limited range of structures; frequent errors; may make meaning unclear.",
                6: "Mix of simple and complex sentences; errors don't impede communication; some accurate structures.",
                7: "Variety of complex structures; frequent error-free sentences; good control of grammar.",
                8: "Wide range of structures used flexibly; majority error-free; only rare minor errors."
            }
        };

        // Tab Switching
        function showTab(tabName) {
            // Hide all tab contents
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));
            
            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        // Band Score Sliders
        function setupSliders() {
            const criteria = ['tr', 'cc', 'lr', 'gra'];
            criteria.forEach(criterion => {
                const slider = document.getElementById(`${criterion}-slider`);
                slider.addEventListener('input', function() {
                    const band = this.value;
                    document.getElementById(`${criterion}-band`).textContent = `Band ${band}`;
                    document.getElementById(`${criterion}-desc`).textContent = bandDescriptions[criterion][band];
                });
            });
        }

        // Drag and Drop Functionality
        let draggedElement = null;

        function setupDragDrop() {
            const draggables = document.querySelectorAll('.draggable');
            const dropZones = document.querySelectorAll('.drop-zone');

            draggables.forEach(draggable => {
                draggable.addEventListener('dragstart', function() {
                    draggedElement = this;
                    this.classList.add('dragging');
                });

                draggable.addEventListener('dragend', function() {
                    this.classList.remove('dragging');
                });
            });

            dropZones.forEach(zone => {
                zone.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('drag-over');
                });

                zone.addEventListener('dragleave', function() {
                    this.classList.remove('drag-over');
                });

                zone.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('drag-over');
                    if (draggedElement) {
                        this.appendChild(draggedElement);
                    }
                });
            });
        }

        // Check Essay Structure
        function checkStructure() {
            const dropZones = document.querySelectorAll('#structure .drop-zone');
            const correctOrder = [
                'Introduction - Hook, paraphrase, thesis',
                'Body Paragraph 1 - First main reason',
                'Body Paragraph 2 - Second main reason',
                'Counter-argument (Optional)',
                'Conclusion - Restate position & summarize'
            ];

            let correct = true;
            const userOrder = [];

            dropZones.forEach((zone, index) => {
                const item = zone.querySelector('.draggable');
                if (item && index < 4) { // First 4 are required
                    userOrder.push(item.textContent.trim());
                    if (item.textContent.trim() !== correctOrder[index]) {
                        correct = false;
                    }
                } else if (index < 4) {
                    correct = false;
                }
            });

            const feedback = document.getElementById('structure-feedback');
            if (correct && userOrder.length >= 4) {
                feedback.className = 'feedback correct';
                feedback.textContent = '✅ Excellent! You\'ve got the essay structure perfect. Remember: Introduction → Body 1 → Body 2 → Conclusion (with optional counter-argument).';
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '❌ Not quite right. Remember the correct order: Introduction → Body Paragraph 1 → Body Paragraph 2 → (Optional Counter-argument) → Conclusion. Try again!';
            }
        }

        function resetStructure() {
            const items = document.querySelectorAll('#structure .draggable');
            const container = document.getElementById('structure-items');
            items.forEach(item => {
                container.appendChild(item);
            });
            document.getElementById('structure-feedback').style.display = 'none';
        }

        // Check Paragraph Order
        function checkParagraph() {
            const dropZones = document.querySelectorAll('#paragraph .drop-zone');
            const correctTypes = ['topic', 'explain', 'evidence', 'link'];
            
            let correct = true;
            dropZones.forEach((zone, index) => {
                const item = zone.querySelector('.draggable');
                if (!item || item.dataset.type !== correctTypes[index]) {
                    correct = false;
                }
            });

            const feedback = document.getElementById('paragraph-feedback');
            if (correct) {
                feedback.className = 'feedback correct';
                feedback.textContent = '✅ Perfect! You understand the TEEL structure: Topic → Explain → Evidence → Link. This is the foundation of strong body paragraphs!';
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '❌ Not quite. Remember TEEL: Topic sentence first, then Explanation, then Evidence/Example, finally Link back to thesis.';
            }
        }

        function resetParagraph() {
            const items = document.querySelectorAll('#paragraph .draggable');
            const container = document.getElementById('paragraph-items');
            items.forEach(item => {
                container.appendChild(item);
            });
            document.getElementById('paragraph-feedback').style.display = 'none';
        }

        // Thesis Builder
        let thesisComponents = {
            position: '',
            subject: '',
            connector: '',
            reasons: ''
        };

        function selectPosition(element, text) {
            document.querySelectorAll('#thesis .linking-words-grid .linking-word-card').forEach(card => {
                if (card.parentElement === element.parentElement) {
                    card.classList.remove('selected');
                }
            });
            element.classList.add('selected');
            thesisComponents.position = text;
            updateThesisOutput();
        }

        function selectSubject(element, text) {
            document.querySelectorAll('#thesis .linking-words-grid .linking-word-card').forEach(card => {
                if (card.parentElement === element.parentElement) {
                    card.classList.remove('selected');
                }
            });
            element.classList.add('selected');
            thesisComponents.subject = text;
            updateThesisOutput();
        }

        function selectConnector(element, text) {
            document.querySelectorAll('#thesis .linking-words-grid .linking-word-card').forEach(card => {
                if (card.parentElement === element.parentElement) {
                    card.classList.remove('selected');
                }
            });
            element.classList.add('selected');
            thesisComponents.connector = text;
            updateThesisOutput();
        }

        document.getElementById('thesis-reasons')?.addEventListener('input', function() {
            thesisComponents.reasons = this.value;
            updateThesisOutput();
        });

        function updateThesisOutput() {
            const output = document.getElementById('thesis-output');
            if (thesisComponents.position && thesisComponents.subject && thesisComponents.connector && thesisComponents.reasons) {
                output.innerHTML = `${thesisComponents.position} ${thesisComponents.subject} ${thesisComponents.connector} ${thesisComponents.reasons}`;
                output.style.color = '#000';
            }
        }

        function analyzeThesis() {
            const feedback = document.getElementById('thesis-feedback');
            const thesis = document.getElementById('thesis-output').textContent;
            
            if (thesis.includes('Build your thesis')) {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '❌ Please build your thesis using the options above first!';
                return;
            }

            const wordCount = thesis.split(' ').length;
            const hasPosition = thesis.toLowerCase().includes('believe') || thesis.toLowerCase().includes('agree') || thesis.toLowerCase().includes('disagree');
            const hasConnector = thesis.toLowerCase().includes('because') || thesis.toLowerCase().includes('since') || thesis.toLowerCase().includes('as ');
            
            if (wordCount > 15 && hasPosition && hasConnector) {
                feedback.className = 'feedback correct';
                feedback.textContent = '✅ Great thesis! It has a clear position, uses a good connector, and provides reasons. This would score well for Task Response!';
            } else {
                feedback.className = 'feedback incorrect';
                let message = '❌ Your thesis needs improvement. ';
                if (!hasPosition) message += 'Make your position clearer. ';
                if (!hasConnector) message += 'Use "because/since/as" to connect to your reasons. ';
                if (wordCount < 15) message += 'Try to extend it with more specific reasons.';
                feedback.textContent = message;
            }
        }

        // Linking Words Categories
        const linkingWords = {
            addition: {
                title: '➕ Addition - Adding More Ideas',
                words: [
                    { word: 'Furthermore', use: 'formal addition', example: 'Furthermore, community service strengthens social bonds.' },
                    { word: 'Moreover', use: 'formal addition', example: 'Moreover, teenagers gain valuable work experience.' },
                    { word: 'In addition', use: 'adding information', example: 'In addition to this, volunteers learn time management.' },
                    { word: 'Additionally', use: 'adding points', example: 'Additionally, these programs benefit local communities.' },
                    { word: 'Besides', use: 'informal addition', example: 'Besides, voluntary work looks good on university applications.' },
                    { word: 'What is more', use: 'emphasizing addition', example: 'What is more, students develop empathy through helping others.' }
                ]
            },
            contrast: {
                title: '⚖️ Contrast - Showing Differences',
                words: [
                    { word: 'However', use: 'contrasting ideas', example: 'However, critics argue this takes too much time.' },
                    { word: 'Although', use: 'concession', example: 'Although some disagree, I believe the benefits are clear.' },
                    { word: 'Despite', use: 'contrast with noun', example: 'Despite these concerns, mandatory service has advantages.' },
                    { word: 'Nevertheless', use: 'formal contrast', example: 'Nevertheless, the positive impacts are undeniable.' },
                    { word: 'On the other hand', use: 'presenting alternative view', example: 'On the other hand, opponents claim it infringes on freedom.' },
                    { word: 'Conversely', use: 'showing opposite', example: 'Conversely, some studies show decreased academic performance.' }
                ]
            },
            result: {
                title: '📊 Result - Showing Consequences',
                words: [
                    { word: 'Therefore', use: 'logical conclusion', example: 'Therefore, schools should implement these programs.' },
                    { word: 'Consequently', use: 'result/effect', example: 'Consequently, community organizations receive more support.' },
                    { word: 'As a result', use: 'showing outcome', example: 'As a result, teenagers become more socially aware.' },
                    { word: 'Thus', use: 'formal conclusion', example: 'Thus, both parties benefit from this arrangement.' },
                    { word: 'For this reason', use: 'explaining why', example: 'For this reason, I strongly support mandatory volunteering.' },
                    { word: 'This demonstrates that', use: 'showing proof', example: 'This demonstrates that community service is valuable.' }
                ]
            },
            example: {
                title: '💡 Example - Giving Evidence',
                words: [
                    { word: 'For example', use: 'introducing example', example: 'For example, students at food banks learn about poverty.' },
                    { word: 'For instance', use: 'specific case', example: 'For instance, my school saw a 40% increase in volunteers.' },
                    { word: 'Such as', use: 'giving examples', example: 'Activities such as tutoring and gardening are popular.' },
                    { word: 'In particular', use: 'highlighting specific', example: 'In particular, elderly care programs need young helpers.' },
                    { word: 'To illustrate', use: 'demonstrating point', example: 'To illustrate, a local project improved the community park.' },
                    { word: 'Namely', use: 'specifying', example: 'Several skills develop, namely teamwork and leadership.' }
                ]
            },
            sequence: {
                title: '🔢 Sequence - Ordering Ideas',
                words: [
                    { word: 'Firstly / First of all', use: 'first point', example: 'Firstly, community service teaches responsibility.' },
                    { word: 'Secondly', use: 'second point', example: 'Secondly, it addresses real social needs.' },
                    { word: 'Finally / Lastly', use: 'final point', example: 'Finally, students gain practical work experience.' },
                    { word: 'To begin with', use: 'starting argument', example: 'To begin with, volunteering builds character.' },
                    { word: 'Subsequently', use: 'following after', example: 'Subsequently, these skills help in later life.' },
                    { word: 'In conclusion', use: 'concluding', example: 'In conclusion, mandatory service benefits everyone.' }
                ]
            },
            emphasis: {
                title: '❗ Emphasis - Stressing Importance',
                words: [
                    { word: 'Indeed', use: 'emphasizing truth', example: 'Indeed, the evidence strongly supports this view.' },
                    { word: 'In fact', use: 'adding emphasis', example: 'In fact, studies show volunteering improves mental health.' },
                    { word: 'Clearly', use: 'making obvious', example: 'Clearly, these programs have multiple benefits.' },
                    { word: 'Undoubtedly', use: 'certain emphasis', example: 'Undoubtedly, community service teaches valuable lessons.' },
                    { word: 'Significantly', use: 'important point', example: 'Significantly, teen volunteers report higher satisfaction.' },
                    { word: 'Most importantly', use: 'key point', example: 'Most importantly, young people develop empathy.' }
                ]
            }
        };

        function showLinkingCategory(category) {
            const display = document.getElementById('linking-display');
            const title = document.getElementById('linking-title');
            const content = document.getElementById('linking-content');
            
            display.style.display = 'block';
            title.textContent = linkingWords[category].title;
            
            let html = '<ul style="margin-left: 25px; line-height: 2;">';
            linkingWords[category].words.forEach(item => {
                html += `<li><strong>${item.word}</strong> - <em>${item.use}</em><br>
                        <span style="color: #666; font-size: 0.95em;">"${item.example}"</span></li>`;
            });
            html += '</ul>';
            
            content.innerHTML = html;
        }

        function checkLinking() {
            const link1 = document.getElementById('link1').value;
            const link2 = document.getElementById('link2').value;
            const link3 = document.getElementById('link3').value;
            
            const feedback = document.getElementById('linking-practice-feedback');
            
            if (link1 === 'correct' && link2 === 'correct' && link3 === 'correct') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✅ Perfect! You understand how to use linking words correctly. These will help your Coherence & Cohesion score!';
            } else {
                feedback.className = 'feedback incorrect';
                let message = '❌ Not all correct. Tips: ';
                if (link1 !== 'correct') message += '"Furthermore" adds similar ideas. ';
                if (link2 !== 'correct') message += '"Although" shows contrast between clauses. ';
                if (link3 !== 'correct') message += '"For instance" introduces specific examples. ';
                feedback.textContent = message;
            }
        }

        // Model Essay Click to Reveal
        function revealLabel(element, labelText) {
            element.classList.toggle('revealed');
            element.querySelector('.label').textContent = labelText;
        }

        // Practice Writing Word Count
        function updateWordCount(section) {
            const textarea = document.getElementById(`${section}-text`);
            const countDisplay = document.getElementById(`${section}-count`);
            const words = textarea.value.trim().split(/\s+/).filter(word => word.length > 0);
            countDisplay.textContent = `${words.length} words`;
            
            updateTotalWordCount();
        }

        function updateTotalWordCount() {
            const sections = ['intro', 'body1', 'body2', 'conclusion'];
            let total = 0;
            
            sections.forEach(section => {
                const textarea = document.getElementById(`${section}-text`);
                if (textarea && textarea.value.trim()) {
                    const words = textarea.value.trim().split(/\s+/).filter(word => word.length > 0);
                    total += words.length;
                }
            });
            
            document.getElementById('total-count').textContent = total;
            
            // Update progress bar
            const progress = Math.min((total / 290) * 100, 100);
            const progressBar = document.getElementById('word-progress');
            progressBar.style.width = `${progress}%`;
            progressBar.textContent = `${Math.round(progress)}%`;
        }

        function analyzeEssay() {
            const total = parseInt(document.getElementById('total-count').textContent);
            const feedback = document.getElementById('essay-feedback');
            
            if (total === 0) {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '❌ Please write your essay first!';
                return;
            }
            
            let analysis = '📊 Essay Analysis:\n\n';
            
            if (total < 250) {
                feedback.className = 'feedback incorrect';
                analysis += `❌ Word Count: ${total} words - UNDER MINIMUM (need at least 250)\n`;
            } else if (total < 270) {
                feedback.className = 'feedback incorrect';
                analysis += `⚠️ Word Count: ${total} words - Above minimum but aim for 270-290\n`;
            } else if (total <= 290) {
                feedback.className = 'feedback correct';
                analysis += `✅ Word Count: ${total} words - EXCELLENT! Right in the target range\n`;
            } else {
                feedback.className = 'feedback incorrect';
                analysis += `⚠️ Word Count: ${total} words - A bit long, aim for 270-290\n`;
            }
            
            // Check each section
            const intro = document.getElementById('intro-text').value.trim().split(/\s+/).filter(w => w.length > 0).length;
            const body1 = document.getElementById('body1-text').value.trim().split(/\s+/).filter(w => w.length > 0).length;
            const body2 = document.getElementById('body2-text').value.trim().split(/\s+/).filter(w => w.length > 0).length;
            const conclusion = document.getElementById('conclusion-text').value.trim().split(/\s+/).filter(w => w.length > 0).length;
            
            analysis += '\n📝 Section Analysis:\n';
            analysis += intro > 0 ? `✅ Introduction: ${intro} words\n` : '❌ Missing Introduction\n';
            analysis += body1 > 0 ? `✅ Body Paragraph 1 (First View): ${body1} words\n` : '❌ Missing Body Paragraph 1\n';
            analysis += body2 > 0 ? `✅ Body Paragraph 2 (Second View): ${body2} words\n` : '❌ Missing Body Paragraph 2\n';
            analysis += conclusion > 0 ? `✅ Conclusion: ${conclusion} words\n` : '❌ Missing Conclusion\n';
            
            analysis += '\n💡 Next Steps:\n';
            analysis += '• Review your essay for grammar and vocabulary errors\n';
            analysis += '• Check that each paragraph has a clear topic sentence\n';
            analysis += '• Ensure you discussed BOTH views fairly before giving your opinion\n';
            analysis += '• Verify you have used linking words effectively\n';
            analysis += '• Make sure your position is clear in the introduction and conclusion\n';
            analysis += '• Ask your teacher for detailed feedback on content and language!';
            
            feedback.textContent = analysis;
            feedback.style.whiteSpace = 'pre-line';
        }

        // Initialize everything when page loads
        window.onload = function() {
            setupSliders();
            setupDragDrop();
        };
    </script>
</body>
</html>
