<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Workplace Conflict Resolution - Interactive Lesson</title>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: #f5f5f5;
  color: #333;
  line-height: 1.6;
}

.header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 40px 20px;
  text-align: center;
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.header h1 {
  font-size: 2.5em;
  margin-bottom: 10px;
}

.header p {
  font-size: 1.2em;
  opacity: 0.95;
}

.container {
  max-width: 1000px;
  margin: 0 auto;
  background: white;
  box-shadow: 0 0 20px rgba(0,0,0,0.1);
}

.tab-navigation {
  display: flex;
  background: #f8f9fa;
  border-bottom: 3px solid #667eea;
  overflow-x: auto;
  flex-wrap: wrap;
}

.tab-button {
  flex: 1;
  min-width: 140px;
  padding: 18px 15px;
  background: #f8f9fa;
  border: none;
  cursor: pointer;
  font-size: 0.95em;
  font-weight: 600;
  color: #555;
  transition: all 0.3s;
  border-bottom: 3px solid transparent;
}

.tab-button:hover {
  background: #e9ecef;
  color: #667eea;
}

.tab-button.active {
  background: white;
  color: #667eea;
  border-bottom: 3px solid #667eea;
}

.tab-content {
  display: none;
  padding: 40px;
  animation: fadeIn 0.4s;
}

.tab-content.active {
  display: block;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.section {
  margin: 30px 0;
}

h2 {
  color: #667eea;
  font-size: 1.8em;
  margin-bottom: 20px;
  border-bottom: 2px solid #eee;
  padding-bottom: 10px;
}

h3 {
  color: #764ba2;
  font-size: 1.3em;
  margin: 25px 0 15px 0;
}

.info-box {
  background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
  border-left: 4px solid #667eea;
  padding: 20px;
  margin: 20px 0;
  border-radius: 8px;
}

.activity-box {
  background: #f8f9fa;
  padding: 25px;
  margin: 20px 0;
  border-radius: 10px;
  border: 2px solid #e9ecef;
}

.slider-container {
  margin: 30px 0;
  padding: 20px;
  background: white;
  border-radius: 8px;
  border: 2px solid #e9ecef;
}

.slider {
  width: 100%;
  height: 8px;
  border-radius: 5px;
  background: #ddd;
  outline: none;
  -webkit-appearance: none;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: #667eea;
  cursor: pointer;
}

.slider::-moz-range-thumb {
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: #667eea;
  cursor: pointer;
}

.slider-label {
  text-align: center;
  font-size: 1.8em;
  font-weight: bold;
  color: #667eea;
  margin: 20px 0;
}

.description-box {
  background: #f8f9fa;
  padding: 20px;
  border-radius: 8px;
  margin-top: 15px;
  min-height: 100px;
}

.draggable-area {
  display: flex;
  gap: 20px;
  margin: 20px 0;
  flex-wrap: wrap;
}

.draggable-items {
  flex: 1;
  min-width: 250px;
  background: #f8f9fa;
  padding: 20px;
  border-radius: 8px;
  border: 2px dashed #ccc;
}

.draggable {
  background: white;
  padding: 15px;
  margin: 10px 0;
  border-radius: 6px;
  cursor: move;
  border: 2px solid #667eea;
  font-weight: 500;
  transition: all 0.3s;
}

.draggable:hover {
  transform: scale(1.02);
  box-shadow: 0 4px 8px rgba(102, 126, 234, 0.3);
}

.draggable.dragging {
  opacity: 0.5;
}

.drop-zone {
  flex: 1;
  min-width: 250px;
  min-height: 300px;
  background: #fff;
  border: 3px dashed #667eea;
  border-radius: 8px;
  padding: 20px;
}

.drop-zone.drag-over {
  background: #667eea15;
  border-color: #764ba2;
}

.quiz-question {
  background: white;
  padding: 25px;
  margin: 25px 0;
  border-radius: 10px;
  border: 2px solid #e9ecef;
}

.quiz-option {
  background: #f8f9fa;
  padding: 15px;
  margin: 10px 0;
  border-radius: 8px;
  cursor: pointer;
  border: 2px solid #ddd;
  transition: all 0.3s;
  font-weight: 500;
}

.quiz-option:hover {
  background: #e9ecef;
  transform: translateX(5px);
}

.quiz-option.correct {
  background: #28a745;
  color: white;
  border-color: #28a745;
}

.quiz-option.wrong {
  background: #dc3545;
  color: white;
  border-color: #dc3545;
}

.feedback {
  margin-top: 15px;
  padding: 15px;
  border-radius: 8px;
  font-weight: 500;
  display: none;
}

.feedback.show {
  display: block;
}

.feedback.success {
  background: #d4edda;
  color: #155724;
  border: 2px solid #28a745;
}

.feedback.error {
  background: #f8d7da;
  color: #721c24;
  border: 2px solid #dc3545;
}

.input-exercise {
  margin: 20px 0;
}

.input-exercise input,
.input-exercise textarea {
  width: 100%;
  padding: 12px;
  margin: 10px 0;
  border: 2px solid #ddd;
  border-radius: 6px;
  font-size: 1em;
  font-family: inherit;
}

.input-exercise textarea {
  min-height: 100px;
  resize: vertical;
}

button {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  padding: 12px 30px;
  border-radius: 6px;
  font-size: 1em;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}

button:active {
  transform: translateY(0);
}

.progress-bar {
  background: #e9ecef;
  border-radius: 10px;
  height: 30px;
  margin: 20px 0;
  overflow: hidden;
  position: relative;
}

.progress-fill {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  height: 100%;
  transition: width 0.5s;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: bold;
}

.reveal-card {
  background: white;
  padding: 20px;
  margin: 15px 0;
  border-radius: 8px;
  border: 2px solid #667eea;
  cursor: pointer;
  transition: all 0.3s;
}

.reveal-card:hover {
  background: #f8f9fa;
  transform: scale(1.02);
}

.reveal-content {
  display: none;
  margin-top: 15px;
  padding-top: 15px;
  border-top: 2px solid #eee;
  animation: slideDown 0.3s;
}

.reveal-content.show {
  display: block;
}

@keyframes slideDown {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

.score-display {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 20px;
  border-radius: 10px;
  text-align: center;
  font-size: 1.5em;
  font-weight: bold;
  margin: 20px 0;
}

.scenario-card {
  background: white;
  padding: 25px;
  margin: 20px 0;
  border-radius: 10px;
  border-left: 5px solid #667eea;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.dropdown-select {
  width: 100%;
  padding: 12px;
  margin: 10px 0;
  border: 2px solid #667eea;
  border-radius: 6px;
  font-size: 1em;
  background: white;
  cursor: pointer;
}

.match-container {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin: 20px 0;
}

.match-column {
  background: #f8f9fa;
  padding: 20px;
  border-radius: 8px;
}

.match-item {
  background: white;
  padding: 15px;
  margin: 10px 0;
  border-radius: 6px;
  border: 2px solid #ddd;
  cursor: pointer;
  transition: all 0.3s;
}

.match-item:hover {
  border-color: #667eea;
  transform: translateX(5px);
}

.match-item.selected {
  background: #667eea;
  color: white;
  border-color: #667eea;
}

.completion-message {
  background: #d4edda;
  color: #155724;
  padding: 20px;
  border-radius: 10px;
  text-align: center;
  font-size: 1.2em;
  font-weight: bold;
  margin: 20px 0;
  border: 2px solid #28a745;
  display: none;
}

.completion-message.show {
  display: block;
  animation: fadeIn 0.5s;
}

@media (max-width: 768px) {
  .header h1 {
    font-size: 1.8em;
  }
  
  .tab-content {
    padding: 20px;
  }
  
  .draggable-area,
  .match-container {
    flex-direction: column;
  }
}
</style>
</head>
<body>

<div class="header">
  <h1>Workplace Conflict Resolution</h1>
  <p>Master Professional Communication & De-escalation Skills</p>
</div>

<div class="container">
  <div class="tab-navigation">
    <button class="tab-button active" onclick="openTab(event, 'tab1')">Introduction</button>
    <button class="tab-button" onclick="openTab(event, 'tab2')">Conflict Types</button>
    <button class="tab-button" onclick="openTab(event, 'tab3')">DESC Model</button>
    <button class="tab-button" onclick="openTab(event, 'tab4')">Conflict Styles</button>
    <button class="tab-button" onclick="openTab(event, 'tab5')">De-escalation</button>
    <button class="tab-button" onclick="openTab(event, 'tab6')">Case Studies</button>
    <button class="tab-button" onclick="openTab(event, 'tab7')">Action Plan</button>
  </div>

  <!-- TAB 1: INTRODUCTION -->
  <div id="tab1" class="tab-content active">
    <h2>Welcome to Conflict Resolution Training</h2>
    
    <div class="info-box">
      <h3>Learning Objectives</h3>
      <p><strong>By the end of this lesson, you will be able to:</strong></p>
      <ul style="margin-left: 20px; margin-top: 10px;">
        <li>Identify different types of workplace conflicts</li>
        <li>Apply the DESC model for difficult conversations</li>
        <li>Choose appropriate conflict resolution styles</li>
        <li>Use de-escalation techniques effectively</li>
        <li>Create a personal action plan for real conflicts</li>
      </ul>
    </div>

    <div class="section">
      <h3>Self-Assessment: Your Current Conflict Style</h3>
      <p>Rate yourself on this slider - How do you typically handle workplace conflicts?</p>
      
      <div class="slider-container">
        <input type="range" min="1" max="5" value="3" class="slider" id="conflict-comfort">
        <div class="slider-label" id="comfort-label">Neutral</div>
        <div class="description-box" id="comfort-description">
          Move the slider to see different approaches to conflict.
        </div>
      </div>
    </div>

    <div class="section">
      <h3>Quick Quiz: What Do You Know?</h3>
      <div class="quiz-question">
        <h4>True or False: All workplace conflict is harmful and should be avoided.</h4>
        <div class="quiz-option" onclick="checkAnswer(this, false, 'intro1')">True</div>
        <div class="quiz-option" onclick="checkAnswer(this, true, 'intro1')">False</div>
        <div id="feedback-intro1" class="feedback"></div>
      </div>

      <div class="quiz-question">
        <h4>Which type of conflict can actually be productive?</h4>
        <div class="quiz-option" onclick="checkAnswer(this, false, 'intro2')">Personal conflicts about attitudes</div>
        <div class="quiz-option" onclick="checkAnswer(this, true, 'intro2')">Task conflicts about the best approach</div>
        <div class="quiz-option" onclick="checkAnswer(this, false, 'intro2')">Relationship conflicts between coworkers</div>
        <div id="feedback-intro2" class="feedback"></div>
      </div>
    </div>

    <div class="progress-bar">
      <div class="progress-fill" style="width: 14%;">14% Complete</div>
    </div>
  </div>

  <!-- TAB 2: CONFLICT TYPES -->
  <div id="tab2" class="tab-content">
    <h2>Understanding Conflict Types</h2>

    <div class="info-box">
      <p><strong>Not all conflicts are the same!</strong> Understanding the type of conflict helps you choose the right resolution strategy.</p>
    </div>

    <div class="section">
      <h3>Activity: Match Conflicts to Scenarios</h3>
      <p>Drag each conflict type to the correct scenario:</p>
      
      <div class="draggable-area">
        <div class="draggable-items">
          <h4 style="margin-bottom: 15px;">Conflict Types:</h4>
          <div class="draggable" draggable="true" data-type="task">Task Conflict</div>
          <div class="draggable" draggable="true" data-type="relationship">Relationship Conflict</div>
          <div class="draggable" draggable="true" data-type="process">Process Conflict</div>
          <div class="draggable" draggable="true" data-type="values">Values Conflict</div>
          <div class="draggable" draggable="true" data-type="resource">Resource Scarcity</div>
        </div>
        
        <div class="drop-zone" data-answer="task">
          <h4>Scenario 1:</h4>
          <p>Two teams disagree about whether to prioritize speed or quality in the project delivery.</p>
          <p style="margin-top: 15px; color: #667eea; font-weight: bold;">Drop the answer here</p>
        </div>
      </div>

      <div class="draggable-area">
        <div class="drop-zone" data-answer="relationship">
          <h4>Scenario 2:</h4>
          <p>Two colleagues have personal animosity after one was promoted over the other, affecting their collaboration.</p>
          <p style="margin-top: 15px; color: #667eea; font-weight: bold;">Drop the answer here</p>
        </div>

        <div class="drop-zone" data-answer="resource">
          <h4>Scenario 3:</h4>
          <p>Three departments all need the same budget allocation for their initiatives.</p>
          <p style="margin-top: 15px; color: #667eea; font-weight: bold;">Drop the answer here</p>
        </div>
      </div>

      <button onclick="checkDragAnswers()" style="margin-top: 20px;">Check My Answers</button>
      <div id="drag-feedback" class="feedback"></div>
    </div>

    <div class="section">
      <h3>Interactive Learning: Explore Each Type</h3>
      
      <div class="reveal-card" onclick="toggleReveal('reveal1')">
        <h4>🎯 Task Conflict - Click to Learn More</h4>
        <div id="reveal1" class="reveal-content">
          <p><strong>Definition:</strong> Disagreements about work content, goals, or deliverables.</p>
          <p><strong>Why it can be productive:</strong> Leads to better decisions when managed well.</p>
          <p><strong>Example:</strong> Team debates whether to use Method A or Method B for a project.</p>
          <p><strong>Best approach:</strong> Focus on data, test assumptions, find objective criteria.</p>
        </div>
      </div>

      <div class="reveal-card" onclick="toggleReveal('reveal2')">
        <h4>💔 Relationship Conflict - Click to Learn More</h4>
        <div id="reveal2" class="reveal-content">
          <p><strong>Definition:</strong> Personal incompatibility and interpersonal tension.</p>
          <p><strong>Why it's harmful:</strong> Reduces trust, communication, and performance.</p>
          <p><strong>Example:</strong> Two coworkers dislike each other and it shows in meetings.</p>
          <p><strong>Best approach:</strong> Address directly and early, focus on behaviors not personalities.</p>
        </div>
      </div>

      <div class="reveal-card" onclick="toggleReveal('reveal3')">
        <h4>⚙️ Process Conflict - Click to Learn More</h4>
        <div id="reveal3" class="reveal-content">
          <p><strong>Definition:</strong> Disagreements about how work should be done.</p>
          <p><strong>Impact:</strong> Moderate - can slow work but also improve efficiency.</p>
          <p><strong>Example:</strong> Teams use different workflows causing confusion.</p>
          <p><strong>Best approach:</strong> Standardize processes, document decisions, create clear procedures.</p>
        </div>
      </div>
    </div>

    <div class="progress-bar">
      <div class="progress-fill" style="width: 28%;">28% Complete</div>
    </div>
  </div>

  <!-- TAB 3: DESC MODEL -->
  <div id="tab3" class="tab-content">
    <h2>The DESC Model for Difficult Conversations</h2>

    <div class="info-box">
      <h3>DESC = Describe, Express, Specify, Consequences</h3>
      <p>A proven framework for addressing conflicts professionally and effectively.</p>
    </div>

    <div class="section">
      <h3>Learn the Framework</h3>
      <p>Use the slider to explore each step:</p>
      
      <div class="slider-container">
        <input type="range" min="1" max="4" value="1" class="slider" id="desc-slider">
        <div class="slider-label" id="desc-label">D - Describe</div>
        <div class="description-box" id="desc-description">
          <strong>Describe:</strong> State the specific behavior objectively, without judgment.<br><br>
          <em>Example: "In yesterday's meeting, you interrupted me three times while I was presenting the Q3 results."</em>
        </div>
      </div>
    </div>

    <div class="section">
      <h3>Practice: Build Your Own DESC Statement</h3>
      <div class="scenario-card">
        <h4>Scenario:</h4>
        <p>Your colleague consistently misses project deadlines, forcing you to work late to compensate. This has happened three times this month.</p>
      </div>

      <div class="input-exercise">
        <label><strong>D - Describe the behavior (be specific and objective):</strong></label>
        <textarea id="desc-d" placeholder="Example: Over the past month, you've missed three project deadlines..."></textarea>

        <label><strong>E - Express the impact using 'I' statements:</strong></label>
        <textarea id="desc-e" placeholder="Example: This has caused me to work late to cover the work..."></textarea>

        <label><strong>S - Specify what you'd like to see instead:</strong></label>
        <textarea id="desc-s" placeholder="Example: I'd appreciate if you could let me know in advance when..."></textarea>

        <label><strong>C - Consequences (positive outcomes or impacts):</strong></label>
        <textarea id="desc-c" placeholder="Example: This would help us both manage our time better and..."></textarea>

        <button onclick="reviewDESC()">Review My Statement</button>
        <div id="desc-feedback" class="feedback"></div>
      </div>
    </div>

    <div class="section">
      <h3>Common Mistakes to Avoid</h3>
      <div class="quiz-question">
        <h4>Which DESC statement is better?</h4>
        <div class="quiz-option" onclick="checkAnswer(this, false, 'desc-quiz')">
          "You always ignore my emails, which is really unprofessional and shows you don't respect me."
        </div>
        <div class="quiz-option" onclick="checkAnswer(this, true, 'desc-quiz')">
          "I sent three emails last week about the deadline and haven't received responses. This makes it hard for me to plan my work."
        </div>
        <div id="feedback-desc-quiz" class="feedback"></div>
      </div>
    </div>

    <div class="progress-bar">
      <div class="progress-fill" style="width: 42%;">42% Complete</div>
    </div>
  </div>

  <!-- TAB 4: CONFLICT STYLES -->
  <div id="tab4" class="tab-content">
    <h2>Choosing Your Conflict Style</h2>

    <div class="info-box">
      <p><strong>The Thomas-Kilmann Model:</strong> There are 5 conflict styles. The key is knowing WHEN to use each one.</p>
    </div>

    <div class="section">
      <h3>Explore the 5 Styles</h3>
      <p>Select a style to learn more:</p>
      
      <select class="dropdown-select" id="style-selector" onchange="showStyleInfo()">
        <option value="">Choose a conflict style...</option>
        <option value="competing">Competing (Assert yourself)</option>
        <option value="accommodating">Accommodating (Give in)</option>
        <option value="avoiding">Avoiding (Step back)</option>
        <option value="compromising">Compromising (Split difference)</option>
        <option value="collaborating">Collaborating (Win-win)</option>
      </select>

      <div id="style-info" class="description-box" style="display: none;">
        <!-- Content populated by JavaScript -->
      </div>
    </div>

    <div class="section">
      <h3>Practice: Choose the Best Style</h3>
      
      <div class="scenario-card">
        <h4>Scenario 1:</h4>
        <p>Two team members want the same week off during a critical project deadline. Only one can take leave.</p>
        <select class="dropdown-select" id="scenario1">
          <option value="">Select best conflict style...</option>
          <option value="wrong">Avoiding - Let them figure it out</option>
          <option value="wrong">Accommodating - Let both take leave</option>
          <option value="correct">Collaborating - Find a creative solution together</option>
          <option value="wrong">Competing - Manager decides unilaterally</option>
        </select>
        <button onclick="checkScenario('scenario1', 1)">Check Answer</button>
        <div id="scenario1-feedback" class="feedback"></div>
      </div>

      <div class="scenario-card">
        <h4>Scenario 2:</h4>
        <p>You witness unethical behavior that clearly violates company policy and legal requirements.</p>
        <select class="dropdown-select" id="scenario2">
          <option value="">Select best conflict style...</option>
          <option value="wrong">Avoiding - Not your problem</option>
          <option value="wrong">Accommodating - Accept it to keep peace</option>
          <option value="wrong">Compromising - Report it partially</option>
          <option value="correct">Competing - Report it immediately and firmly</option>
        </select>
        <button onclick="checkScenario('scenario2', 2)">Check Answer</button>
        <div id="scenario2-feedback" class="feedback"></div>
      </div>

      <div class="scenario-card">
        <h4>Scenario 3:</h4>
        <p>A colleague snapped at you in a meeting, but you know their parent is in the hospital and they're under enormous stress.</p>
        <select class="dropdown-select" id="scenario3">
          <option value="">Select best conflict style...</option>
          <option value="wrong">Competing - Call them out publicly</option>
          <option value="correct">Accommodating - Let it go and offer support</option>
          <option value="wrong">Collaborating - Have a deep discussion now</option>
          <option value="wrong">Avoiding - Stop working with them</option>
        </select>
        <button onclick="checkScenario('scenario3', 3)">Check Answer</button>
        <div id="scenario3-feedback" class="feedback"></div>
      </div>
    </div>

    <div class="score-display" id="style-score">
      Your Score: <span id="style-score-num">0</span>/3
    </div>

    <div class="progress-bar">
      <div class="progress-fill" style="width: 57%;">57% Complete</div>
    </div>
  </div>

  <!-- TAB 5: DE-ESCALATION -->
  <div id="tab5" class="tab-content">
    <h2>De-escalation Techniques</h2>

    <div class="info-box">
      <p><strong>When emotions run high, these techniques can defuse tension and return the conversation to productive problem-solving.</strong></p>
    </div>

    <div class="section">
      <h3>Master These 5 Techniques</h3>
      
      <div class="reveal-card" onclick="toggleReveal('deesc1')">
        <h4>1. Tactical Empathy 💙</h4>
        <div id="deesc1" class="reveal-content">
          <p><strong>What it is:</strong> Acknowledge emotions without agreeing with the position.</p>
          <p><strong>When to use:</strong> When someone is frustrated, angry, or upset.</p>
          <p><strong>Example:</strong> "I can see this situation is really frustrating for you."</p>
          <p><strong>Why it works:</strong> People need to feel heard before they can problem-solve.</p>
        </div>
      </div>

      <div class="reveal-card" onclick="toggleReveal('deesc2')">
        <h4>2. Labeling 🏷️</h4>
        <div id="deesc2" class="reveal-content">
          <p><strong>What it is:</strong> Name the emotion you're observing.</p>
          <p><strong>When to use:</strong> When emotions are unspoken but obvious.</p>
          <p><strong>Example:</strong> "It sounds like you're feeling overlooked in these decisions."</p>
          <p><strong>Why it works:</strong> Naming emotions reduces their intensity.</p>
        </div>
      </div>

      <div class="reveal-card" onclick="toggleReveal('deesc3')">
        <h4>3. Mirroring 🪞</h4>
        <div id="deesc3" class="reveal-content">
          <p><strong>What it is:</strong> Repeat the last 1-3 words to encourage elaboration.</p>
          <p><strong>When to use:</strong> When you need someone to explain more.</p>
          <p><strong>Example:</strong> Them: "Nobody listens to my input." You: "Your input?"</p>
          <p><strong>Why it works:</strong> Invites them to continue without seeming judgmental.</p>
        </div>
      </div>

      <div class="reveal-card" onclick="toggleReveal('deesc4')">
        <h4>4. Taking a Break ⏸️</h4>
        <div id="deesc4" class="reveal-content">
          <p><strong>What it is:</strong> Pause when emotions escalate too much.</p>
          <p><strong>When to use:</strong> When voices are raised or people are not listening.</p>
          <p><strong>Example:</strong> "Let's take 10 minutes and reconvene when we're calmer."</p>
          <p><strong>Why it works:</strong> Allows prefrontal cortex to override amygdala.</p>
        </div>
      </div>

      <div class="reveal-card" onclick="toggleReveal('deesc5')">
        <h4>5. Finding Agreement 🤝</h4>
        <div id="deesc5" class="reveal-content">
          <p><strong>What it is:</strong> Identify any point of alignment, no matter how small.</p>
          <p><strong>When to use:</strong> When discussion feels completely oppositional.</p>
          <p><strong>Example:</strong> "We both agree that meeting the deadline is critical."</p>
          <p><strong>Why it works:</strong> Shifts from adversarial to collaborative mindset.</p>
        </div>
      </div>
    </div>

    <div class="section">
      <h3>Practice: Identify the Technique</h3>
      
      <div class="quiz-question">
        <h4>Situation: An angry colleague says "You never consider my opinion!"<br>Response: "Your opinion?"</h4>
        <p>Which de-escalation technique is this?</p>
        <div class="quiz-option" onclick="checkAnswer(this, false, 'deesc-q1')">Tactical Empathy</div>
        <div class="quiz-option" onclick="checkAnswer(this, false, 'deesc-q1')">Labeling</div>
        <div class="quiz-option" onclick="checkAnswer(this, true, 'deesc-q1')">Mirroring</div>
        <div class="quiz-option" onclick="checkAnswer(this, false, 'deesc-q1')">Finding Agreement</div>
        <div id="feedback-deesc-q1" class="feedback"></div>
      </div>

      <div class="quiz-question">
        <h4>Response: "I can see you're feeling undervalued by the team's decision."</h4>
        <p>Which technique is this?</p>
        <div class="quiz-option" onclick="checkAnswer(this, false, 'deesc-q2')">Mirroring</div>
        <div class="quiz-option" onclick="checkAnswer(this, true, 'deesc-q2')">Labeling</div>
        <div class="quiz-option" onclick="checkAnswer(this, false, 'deesc-q2')">Taking a Break</div>
        <div class="quiz-option" onclick="checkAnswer(this, false, 'deesc-q2')">Finding Agreement</div>
        <div id="feedback-deesc-q2" class="feedback"></div>
      </div>

      <div class="quiz-question">
        <h4>Response: "We're both committed to delivering quality work - that's what matters."</h4>
        <p>Which technique is this?</p>
        <div class="quiz-option" onclick="checkAnswer(this, false, 'deesc-q3')">Tactical Empathy</div>
        <div class="quiz-option" onclick="checkAnswer(this, false, 'deesc-q3')">Mirroring</div>
        <div class="quiz-option" onclick="checkAnswer(this, false, 'deesc-q3')">Taking a Break</div>
        <div class="quiz-option" onclick="checkAnswer(this, true, 'deesc-q3')">Finding Agreement</div>
        <div id="feedback-deesc-q3" class="feedback"></div>
      </div>
    </div>

    <div class="progress-bar">
      <div class="progress-fill" style="width: 71%;">71% Complete</div>
    </div>
  </div>

  <!-- TAB 6: CASE STUDIES -->
  <div id="tab6" class="tab-content">
    <h2>Real-World Case Studies</h2>

    <div class="info-box">
      <p><strong>Apply everything you've learned to these complex workplace scenarios.</strong></p>
    </div>

    <div class="section">
      <h3>Case Study 1: The Credit Stealer</h3>
      <div class="scenario-card">
        <p><strong>Situation:</strong> You spent three weeks developing a proposal. In the executive presentation, your colleague presents it as "our idea" and answers most questions, giving you minimal credit. This isn't the first time.</p>
        
        <p><strong>Complicating factors:</strong></p>
        <ul style="margin-left: 20px;">
          <li>This colleague has more seniority and connections to leadership</li>
          <li>You need to maintain the working relationship</li>
          <li>You have no concrete evidence</li>
        </ul>

        <div style="margin-top: 20px;">
          <label><strong>What conflict type is this?</strong></label>
          <select class="dropdown-select" id="case1-type">
            <option value="">Select conflict type...</option>
            <option value="wrong">Task conflict</option>
            <option value="correct">Relationship conflict (trust/respect)</option>
            <option value="wrong">Process conflict</option>
            <option value="wrong">Values conflict</option>
          </select>
        </div>

        <div style="margin-top: 15px;">
          <label><strong>What conflict style should you use?</strong></label>
          <select class="dropdown-select" id="case1-style">
            <option value="">Select conflict style...</option>
            <option value="wrong">Avoiding - Let it go</option>
            <option value="wrong">Accommodating - Accept it</option>
            <option value="wrong">Competing - Confront aggressively</option>
            <option value="correct">Collaborating - Address directly but professionally</option>
          </select>
        </div>

        <div class="input-exercise" style="margin-top: 20px;">
          <label><strong>Write your DESC opening statement:</strong></label>
          <textarea id="case1-desc" placeholder="Start with 'Describe' - be specific about what happened..."></textarea>
        </div>

        <button onclick="reviewCase(1)">Submit Your Analysis</button>
        <div id="case1-feedback" class="feedback"></div>
      </div>
    </div>

    <div class="section">
      <h3>Case Study 2: The Micromanager</h3>
      <div class="scenario-card">
        <p><strong>Situation:</strong> Your new manager reviews every detail of your work, requests frequent status updates, and often redoes your completed tasks. Your productivity and morale have decreased significantly.</p>
        
        <p><strong>Complicating factors:</strong></p>
        <ul style="margin-left: 20px;">
          <li>Manager is under pressure from their boss</li>
          <li>This is their first leadership role</li>
          <li>You've had excellent reviews from previous managers</li>
        </ul>

        <div style="margin-top: 20px;">
          <label><strong>What's the likely root cause?</strong></label>
          <select class="dropdown-select" id="case2-cause">
            <option value="">Select root cause...</option>
            <option value="wrong">Manager doesn't like you personally</option>
            <option value="correct">Manager lacks confidence in delegation</option>
            <option value="wrong">Your work quality declined</option>
            <option value="wrong">Manager wants you to quit</option>
          </select>
        </div>

        <div style="margin-top: 15px;">
          <label><strong>Best de-escalation technique to start with?</strong></label>
          <select class="dropdown-select" id="case2-technique">
            <option value="">Select technique...</option>
            <option value="wrong">Mirroring</option>
            <option value="correct">Tactical Empathy (acknowledge their pressure)</option>
            <option value="wrong">Taking a Break</option>
            <option value="wrong">Finding Agreement</option>
          </select>
        </div>

        <div class="input-exercise" style="margin-top: 20px;">
          <label><strong>What specific behavior change would you request?</strong></label>
          <textarea id="case2-request" placeholder="Be specific and reasonable..."></textarea>
        </div>

        <button onclick="reviewCase(2)">Submit Your Analysis</button>
        <div id="case2-feedback" class="feedback"></div>
      </div>
    </div>

    <div class="section">
      <h3>Case Study 3: Team Division</h3>
      <div class="scenario-card">
        <p><strong>Situation:</strong> Two senior team members have ongoing tension from a past project failure. They disagree in meetings, make passive-aggressive comments, and have formed opposing factions. As team lead, you're caught in the middle.</p>
        
        <p><strong>Your challenge:</strong> Both are highly skilled and valuable, but the tension is affecting everyone.</p>

        <div style="margin-top: 20px;">
          <label><strong>First step as team leader?</strong></label>
          <select class="dropdown-select" id="case3-step">
            <option value="">Select best first step...</option>
            <option value="wrong">Bring them together immediately</option>
            <option value="correct">Meet with each individually first</option>
            <option value="wrong">Ignore it and hope it resolves</option>
            <option value="wrong">Document for HR and consider firing one</option>
          </select>
        </div>

        <div style="margin-top: 15px;">
          <label><strong>When you bring them together, which conflict style?</strong></label>
          <select class="dropdown-select" id="case3-style">
            <option value="">Select conflict style...</option>
            <option value="wrong">Competing - Tell them to fix it</option>
            <option value="wrong">Avoiding - Stay out of it</option>
            <option value="wrong">Accommodating - Let them lead the discussion</option>
            <option value="correct">Collaborating - Facilitate problem-solving</option>
          </select>
        </div>

        <button onclick="reviewCase(3)">Submit Your Analysis</button>
        <div id="case3-feedback" class="feedback"></div>
      </div>
    </div>

    <div class="score-display">
      Case Studies Completed: <span id="cases-complete">0</span>/3
    </div>

    <div class="progress-bar">
      <div class="progress-fill" style="width: 85%;">85% Complete</div>
    </div>
  </div>

  <!-- TAB 7: ACTION PLAN -->
  <div id="tab7" class="tab-content">
    <h2>Your Personal Action Plan</h2>

    <div class="info-box">
      <p><strong>Now it's time to apply these skills to a real conflict in your workplace.</strong></p>
    </div>

    <div class="section">
      <h3>Step 1: Identify Your Conflict</h3>
      <div class="input-exercise">
        <label><strong>Describe one unresolved workplace conflict you're currently facing:</strong></label>
        <textarea id="action-conflict" placeholder="Be honest and specific..."></textarea>

        <label><strong>What type of conflict is this?</strong></label>
        <select class="dropdown-select" id="action-type">
          <option value="">Select type...</option>
          <option value="task">Task conflict</option>
          <option value="relationship">Relationship conflict</option>
          <option value="process">Process conflict</option>
          <option value="values">Values conflict</option>
          <option value="resource">Resource conflict</option>
        </select>

        <label><strong>What style have you been using so far?</strong></label>
        <select class="dropdown-select" id="action-current-style">
          <option value="">Select style...</option>
          <option value="competing">Competing</option>
          <option value="accommodating">Accommodating</option>
          <option value="avoiding">Avoiding</option>
          <option value="compromising">Compromising</option>
          <option value="collaborating">Collaborating</option>
        </select>

        <label><strong>What style should you use instead?</strong></label>
        <select class="dropdown-select" id="action-new-style">
          <option value="">Select style...</option>
          <option value="competing">Competing</option>
          <option value="accommodating">Accommodating</option>
          <option value="avoiding">Avoiding</option>
          <option value="compromising">Compromising</option>
          <option value="collaborating">Collaborating</option>
        </select>
      </div>
    </div>

    <div class="section">
      <h3>Step 2: Prepare Your DESC Statement</h3>
      <div class="input-exercise">
        <label><strong>D - Describe (specific, objective behavior):</strong></label>
        <textarea id="action-desc-d" placeholder="What exactly happened? When? Be factual."></textarea>

        <label><strong>E - Express (the impact on you using 'I' statements):</strong></label>
        <textarea id="action-desc-e" placeholder="How did this affect you, your work, or the team?"></textarea>

        <label><strong>S - Specify (what you want to see instead):</strong></label>
        <textarea id="action-desc-s" placeholder="What specific change are you requesting?"></textarea>

        <label><strong>C - Consequences (positive outcomes):</strong></label>
        <textarea id="action-desc-c" placeholder="What benefits will this create?"></textarea>
      </div>
    </div>

    <div class="section">
      <h3>Step 3: Anticipate Responses</h3>
      <div class="input-exercise">
        <label><strong>If they respond defensively, you will:</strong></label>
        <input type="text" id="action-defensive" placeholder="Which de-escalation technique will you use?">

        <label><strong>If they deny or minimize, you will:</strong></label>
        <input type="text" id="action-deny" placeholder="What evidence or examples can you provide?">

        <label><strong>If they agree but don't change behavior, you will:</strong></label>
        <input type="text" id="action-no-change" placeholder="What's your follow-up plan?">
      </div>
    </div>

    <div class="section">
      <h3>Step 4: Set Timeline & Accountability</h3>
      <div class="input-exercise">
        <label><strong>I will initiate this conversation by (date):</strong></label>
        <input type="date" id="action-date">

        <label><strong>I will follow up on progress by (date):</strong></label>
        <input type="date" id="action-followup">

        <label><strong>If unresolved after follow-up, my escalation plan is:</strong></label>
        <textarea id="action-escalation" placeholder="Who will you involve? What documentation do you need?"></textarea>
      </div>

      <button onclick="completeActionPlan()" style="margin-top: 20px; font-size: 1.1em; padding: 15px 40px;">
        Complete My Action Plan
      </button>
      
      <div id="action-feedback" class="feedback"></div>
      <div id="completion-msg" class="completion-message">
        🎉 Congratulations! You've completed the Workplace Conflict Resolution training and created your personal action plan. Remember: The courage to have difficult conversations separates good professionals from great leaders. You've got this!
      </div>
    </div>

    <div class="progress-bar">
      <div class="progress-fill" style="width: 100%;">100% Complete!</div>
    </div>

    <div class="section">
      <h3>Download Your Action Plan</h3>
      <button onclick="downloadActionPlan()" style="background: #28a745;">
        📄 Download Action Plan as Text File
      </button>
      <p style="margin-top: 15px; color: #666; font-size: 0.9em;">
        Save this to reference before your conversation and track your progress.
      </p>
    </div>
  </div>
</div>

<script>
// Tab navigation
function openTab(evt, tabName) {
  const tabContents = document.getElementsByClassName('tab-content');
  for (let i = 0; i < tabContents.length; i++) {
    tabContents[i].classList.remove('active');
  }
  
  const tabButtons = document.getElementsByClassName('tab-button');
  for (let i = 0; i < tabButtons.length; i++) {
    tabButtons[i].classList.remove('active');
  }
  
  document.getElementById(tabName).classList.add('active');
  evt.currentTarget.classList.add('active');
  
  window.scrollTo(0, 0);
}

// Slider for conflict comfort
const comfortSlider = document.getElementById('conflict-comfort');
const comfortLabel = document.getElementById('comfort-label');
const comfortDesc = document.getElementById('comfort-description');

const comfortLevels = [
  { label: 'Conflict Avoider', desc: 'You tend to avoid conflicts at all costs, which can allow problems to grow.' },
  { label: 'Somewhat Uncomfortable', desc: 'You address conflicts when necessary but prefer to avoid them when possible.' },
  { label: 'Neutral', desc: 'You handle conflicts as they come, without strong feelings either way.' },
  { label: 'Comfortable', desc: 'You see conflicts as opportunities for growth and address them proactively.' },
  { label: 'Conflict Seeker', desc: 'You actively engage in conflicts, which can be valuable but requires balance.' }
];

comfortSlider.addEventListener('input', function() {
  const value = parseInt(this.value) - 1;
  comfortLabel.textContent = comfortLevels[value].label;
  comfortDesc.textContent = comfortLevels[value].desc;
});

// Quiz answer checking
function checkAnswer(element, isCorrect, feedbackId) {
  const options = element.parentElement.getElementsByClassName('quiz-option');
  for (let opt of options) {
    opt.style.pointerEvents = 'none';
  }
  
  const feedback = document.getElementById('feedback-' + feedbackId);
  
  if (isCorrect) {
    element.classList.add('correct');
    feedback.className = 'feedback success show';
    feedback.textContent = '✓ Correct! Well done.';
  } else {
    element.classList.add('wrong');
    feedback.className = 'feedback error show';
    feedback.textContent = '✗ Not quite. Think about what creates productive outcomes.';
  }
}

// DESC slider
const descSlider = document.getElementById('desc-slider');
const descLabel = document.getElementById('desc-label');
const descDescription = document.getElementById('desc-description');

const descSteps = [
  {
    label: 'D - Describe',
    desc: '<strong>Describe:</strong> State the specific behavior objectively, without judgment.<br><br><em>Example: "In yesterday\'s meeting, you interrupted me three times while I was presenting the Q3 results."</em>'
  },
  {
    label: 'E - Express',
    desc: '<strong>Express:</strong> Share the impact using "I" statements.<br><br><em>Example: "I felt undermined and struggled to convey the important points to the team."</em>'
  },
  {
    label: 'S - Specify',
    desc: '<strong>Specify:</strong> Suggest a concrete alternative behavior.<br><br><em>Example: "I\'d appreciate if you could save your questions until I finish my key points."</em>'
  },
  {
    label: 'C - Consequences',
    desc: '<strong>Consequences:</strong> Explain positive outcomes or negative impacts.<br><br><em>Example: "This will help me deliver information more clearly, and you\'ll get your questions addressed more thoroughly."</em>'
  }
];

descSlider.addEventListener('input', function() {
  const value = parseInt(this.value) - 1;
  descLabel.textContent = descSteps[value].label;
  descDescription.innerHTML = descSteps[value].desc;
});

// DESC review
function reviewDESC() {
  const d = document.getElementById('desc-d').value.trim();
  const e = document.getElementById('desc-e').value.trim();
  const s = document.getElementById('desc-s').value.trim();
  const c = document.getElementById('desc-c').value.trim();
  
  const feedback = document.getElementById('desc-feedback');
  
  if (!d || !e || !s || !c) {
    feedback.className = 'feedback error show';
    feedback.textContent = 'Please complete all four sections of your DESC statement.';
    return;
  }
  
  let tips = [];
  
  if (d.toLowerCase().includes('you always') || d.toLowerCase().includes('you never')) {
    tips.push('Avoid absolutes like "always" or "never" in your Describe section.');
  }
  
  if (!e.toLowerCase().includes('i ')) {
    tips.push('Make sure your Express section uses "I" statements.');
  }
  
  if (tips.length > 0) {
    feedback.className = 'feedback error show';
    feedback.innerHTML = '<strong>Tips for improvement:</strong><br>' + tips.join('<br>');
  } else {
    feedback.className = 'feedback success show';
    feedback.textContent = '✓ Great work! Your DESC statement is specific, objective, and constructive.';
  }
}

// Drag and drop
let draggedElement = null;

document.addEventListener('DOMContentLoaded', function() {
  const draggables = document.querySelectorAll('.draggable');
  const dropZones = document.querySelectorAll('.drop-zone');
  
  draggables.forEach(draggable => {
    draggable.addEventListener('dragstart', function() {
      draggedElement = this;
      this.classList.add('dragging');
    });
    
    draggable.addEventListener('dragend', function() {
      this.classList.remove('dragging');
    });
  });
  
  dropZones.forEach(zone => {
    zone.addEventListener('dragover', function(e) {
      e.preventDefault();
      this.classList.add('drag-over');
    });
    
    zone.addEventListener('dragleave', function() {
      this.classList.remove('drag-over');
    });
    
    zone.addEventListener('drop', function(e) {
      e.preventDefault();
      this.classList.remove('drag-over');
      
      if (draggedElement) {
        const clone = draggedElement.cloneNode(true);
        clone.draggable = false;
        clone.style.cursor = 'default';
        
        const existingAnswers = this.querySelectorAll('.draggable');
        existingAnswers.forEach(answer => answer.remove());
        
        this.appendChild(clone);
      }
    });
  });
});

function checkDragAnswers() {
  const dropZones = document.querySelectorAll('.drop-zone');
  let correct = 0;
  let total = dropZones.length;
  
  dropZones.forEach(zone => {
    const dropped = zone.querySelector('.draggable');
    if (dropped) {
      const expectedType = zone.dataset.answer;
      const droppedType = dropped.dataset.type;
      
      if (expectedType === droppedType) {
        correct++;
        zone.style.borderColor = '#28a745';
        zone.style.background = '#d4edda';
      } else {
        zone.style.borderColor = '#dc3545';
        zone.style.background = '#f8d7da';
      }
    }
  });
  
  const feedback = document.getElementById('drag-feedback');
  feedback.className = 'feedback show';
  
  if (correct === total) {
    feedback.classList.add('success');
    feedback.textContent = `✓ Perfect! You got all ${correct} correct!`;
  } else {
    feedback.classList.add('error');
    feedback.textContent = `You got ${correct} out of ${total} correct. Try reviewing the incorrect ones.`;
  }
}

// Reveal cards
function toggleReveal(id) {
  const content = document.getElementById(id);
  content.classList.toggle('show');
}

// Conflict style selector
function showStyleInfo() {
  const selector = document.getElementById('style-selector');
  const infoDiv = document.getElementById('style-info');
  const style = selector.value;
  
  const styleInfo = {
    competing: {
      title: 'Competing (Assert Yourself)',
      desc: '<strong>Assertiveness:</strong> High | <strong>Cooperation:</strong> Low<br><br><strong>When to use:</strong> Emergency decisions, unpopular but necessary actions, protecting important rights, or when you know you\'re right on critical issues.<br><br><strong>Risks:</strong> Damages relationships, creates resentment, reduces trust and collaboration.<br><br><strong>Sounds like:</strong> "This is how we\'re doing it. End of discussion."'
    },
    accommodating: {
      title: 'Accommodating (Give In)',
      desc: '<strong>Assertiveness:</strong> Low | <strong>Cooperation:</strong> High<br><br><strong>When to use:</strong> When you\'re wrong, the issue is much more important to others, building goodwill for later, or preserving harmony on minor issues.<br><br><strong>Risks:</strong> Your needs go unmet, may be seen as pushover, can build resentment over time.<br><br><strong>Sounds like:</strong> "Whatever you think is best. I\'m fine with that."'
    },
    avoiding: {
      title: 'Avoiding (Step Back)',
      desc: '<strong>Assertiveness:</strong> Low | <strong>Cooperation:</strong> Low<br><br><strong>When to use:</strong> Trivial issues, when you need time to cool down, when you have no chance of winning, or when someone else can resolve it better.<br><br><strong>Risks:</strong> Problems escalate, important issues ignored, seen as unengaged or uncaring.<br><br><strong>Sounds like:</strong> "Let\'s discuss this another time." or "I don\'t want to get involved."'
    },
    compromising: {
      title: 'Compromising (Split the Difference)',
      desc: '<strong>Assertiveness:</strong> Medium | <strong>Cooperation:</strong> Medium<br><br><strong>When to use:</strong> Equal power situations, when a temporary solution is needed, under time pressure, or when collaboration has failed.<br><br><strong>Risks:</strong> Nobody fully satisfied, doesn\'t address root causes, may not be sustainable long-term.<br><br><strong>Sounds like:</strong> "Let\'s meet in the middle. How about we each give a little?"'
    },
    collaborating: {
      title: 'Collaborating (Win-Win)',
      desc: '<strong>Assertiveness:</strong> High | <strong>Cooperation:</strong> High<br><br><strong>When to use:</strong> Issues important to both parties, when you need full buy-in, for long-term solutions, or when combining insights will create better outcomes.<br><br><strong>Risks:</strong> Time-consuming, requires commitment from both sides, may not work if trust is lacking.<br><br><strong>Sounds like:</strong> "How can we find a solution that meets both our needs? Let\'s explore options together."'
    }
  };
  
  if (style && styleInfo[style]) {
    infoDiv.style.display = 'block';
    infoDiv.innerHTML = '<h4>' + styleInfo[style].title + '</h4><p>' + styleInfo[style].desc + '</p>';
  } else {
    infoDiv.style.display = 'none';
  }
}

// Scenario checking
let styleScore = 0;

function checkScenario(id, num) {
  const select = document.getElementById(id);
  const feedback = document.getElementById(id + '-feedback');
  const value = select.value;
  
  if (!value) {
    feedback.className = 'feedback error show';
    feedback.textContent = 'Please select an answer first.';
    return;
  }
  
  if (value === 'correct') {
    feedback.className = 'feedback success show';
    styleScore++;
    
    if (num === 1) {
      feedback.textContent = '✓ Correct! Collaborating allows you to find creative solutions like adjusting dates, splitting the week, or finding other coverage.';
    } else if (num === 2) {
      feedback.textContent = '✓ Correct! Ethical violations require competing style - you must report immediately and firmly. This isn\'t negotiable.';
    } else if (num === 3) {
      feedback.textContent = '✓ Correct! Accommodating is appropriate here. Their reaction was about external stress, not you. Show compassion and address it later if it becomes a pattern.';
    }
  } else {
    feedback.className = 'feedback error show';
    feedback.textContent = '✗ Not the best choice. Think about the severity and long-term implications.';
  }
  
  select.disabled = true;
  document.getElementById('style-score-num').textContent = styleScore;
}

// Case study review
let casesComplete = 0;

function reviewCase(num) {
  casesComplete++;
  document.getElementById('cases-complete').textContent = casesComplete;
  
  const feedback = document.getElementById('case' + num + '-feedback');
  feedback.className = 'feedback success show';
  
  if (num === 1) {
    feedback.innerHTML = '<strong>Good analysis!</strong> This is a relationship conflict around trust and respect. The collaborating approach with a direct DESC conversation is most appropriate. Document your contributions going forward to protect yourself.';
  } else if (num === 2) {
    feedback.innerHTML = '<strong>Well done!</strong> Starting with tactical empathy acknowledges their pressure while still addressing your needs. Request specific autonomy (e.g., "Weekly check-ins instead of daily" or "Final review only, not drafts").';
  } else if (num === 3) {
    feedback.innerHTML = '<strong>Excellent thinking!</strong> Meeting individually first helps you understand each perspective before bringing them together. As facilitator, you\'ll guide them toward collaborative problem-solving without taking sides.';
  }
}

// Action plan completion
function completeActionPlan() {
  const conflict = document.getElementById('action-conflict').value.trim();
  const date = document.getElementById('action-date').value;
  
  const feedback = document.getElementById('action-feedback');
  const completion = document.getElementById('completion-msg');
  
  if (!conflict || !date) {
    feedback.className = 'feedback error show';
    feedback.textContent = 'Please complete at least the conflict description and initiation date.';
    return;
  }
  
  feedback.className = 'feedback success show';
  feedback.textContent = '✓ Your action plan has been created! Scroll down to download it.';
  completion.classList.add('show');
  
  setTimeout(() => {
    completion.scrollIntoView({ behavior: 'smooth', block: 'center' });
  }, 300);
}

// Download action plan
function downloadActionPlan() {
  const conflict = document.getElementById('action-conflict').value;
  const type = document.getElementById('action-type').value;
  const currentStyle = document.getElementById('action-current-style').value;
  const newStyle = document.getElementById('action-new-style').value;
  const descD = document.getElementById('action-desc-d').value;
  const descE = document.getElementById('action-desc-e').value;
  const descS = document.getElementById('action-desc-s').value;
  const descC = document.getElementById('action-desc-c').value;
  const defensive = document.getElementById('action-defensive').value;
  const deny = document.getElementById('action-deny').value;
  const noChange = document.getElementById('action-no-change').value;
  const date = document.getElementById('action-date').value;
  const followup = document.getElementById('action-followup').value;
  const escalation = document.getElementById('action-escalation').value;
  
  const content = `WORKPLACE CONFLICT RESOLUTION - ACTION PLAN
============================================

CONFLICT DESCRIPTION:
${conflict}

CONFLICT TYPE: ${type}
CURRENT STYLE: ${currentStyle}
NEW STYLE TO USE: ${newStyle}

DESC STATEMENT:
---------------
DESCRIBE: ${descD}

EXPRESS: ${descE}

SPECIFY: ${descS}

CONSEQUENCES: ${descC}

RESPONSE PREPARATION:
--------------------
If defensive: ${defensive}
If denying/minimizing: ${deny}
If agreeing but not changing: ${noChange}

TIMELINE & ACCOUNTABILITY:
-------------------------
Initiate conversation by: ${date}
Follow up by: ${followup}
Escalation plan: ${escalation}

---
Created: ${new Date().toLocaleDateString()}
From: Workplace Conflict Resolution Training
`;
  
  const blob = new Blob([content], { type: 'text/plain' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'conflict-resolution-action-plan.txt';
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
}
</script>

</body>
</html>